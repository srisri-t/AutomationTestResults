(()=>{"use strict";var e={7741:(e,t,s)=>{var r=s(3751),a=s(641),o=s(33);function i(e,t,s,r,i,n){const l=(0,a.g2)("router-view"),c=(0,a.g2)("v-app");return(0,a.uX)(),(0,a.Wv)(c,{theme:e.currentTheme},{default:(0,a.k6)(()=>[(0,a.Lk)("div",{id:"app",class:(0,o.C4)({"dark-theme":e.isDark})},[(0,a.bF)(l)],2)]),_:1},8,["theme"])}var n=s(6278);const l={name:"App",computed:{...(0,n.L8)("theme",["isDark","currentTheme"])},watch:{isDark:{handler(e){e?document.body.classList.add("dark-theme"):document.body.classList.remove("dark-theme")},immediate:!0}}};var c=s(6262);const d=(0,c.A)(l,[["render",i]]),u=d;var p=s(5220);const h={class:"home"};function m(e,t,s,r,o,i){const n=(0,a.g2)("LandingPage");return(0,a.uX)(),(0,a.CE)("div",h,[(0,a.bF)(n,{onFileUploaded:r.onFileUploaded},null,8,["onFileUploaded"])])}const g={class:"landing-bg"},f={class:"navbar"},y={class:"navbar-content"},v={class:"navbar-actions"},k={class:"main-content"},w={class:"upload-card"},b={class:"upload-area"},S={class:"howto-section"},_={class:"howto-cards"},E={class:"howto-card"},x={class:"howto-card"},F={class:"howto-card"};function C(e,t,s,r,o,i){const n=(0,a.g2)("ThemeToggle"),l=(0,a.g2)("ReportUploader"),c=(0,a.g2)("ReportsCollection"),d=(0,a.g2)("v-icon");return(0,a.uX)(),(0,a.CE)("div",g,[(0,a.Lk)("nav",f,[(0,a.Lk)("div",y,[t[1]||(t[1]=(0,a.Fv)('<div class="navbar-brand" data-v-680c4320><span class="logo" style="display:flex;align-items:center;justify-content:center;background:#00a818;border-radius:50%;width:32px;height:32px;" data-v-680c4320><svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-680c4320><path d="M12 2C6.48 2 2 6.48 2 12c0 4.97 3.87 9.06 8.78 9.86.34.05.47-.15.47-.34 0-.17-.01-.73-.01-1.41-3.57.77-4.32-1.72-4.32-1.72-.31-.8-.76-1.01-.76-1.01-.62-.42.05-.41.05-.41.68.05 1.04.7 1.04.7.61 1.04 1.6.74 1.99.57.06-.44.24-.74.43-.91-2.85-.32-5.85-1.43-5.85-6.36 0-1.4.5-2.54 1.32-3.44-.13-.33-.57-1.66.13-3.46 0 0 1.08-.35 3.54 1.31A12.3 12.3 0 0 1 12 6.84c1.09.01 2.19.15 3.22.44 2.46-1.66 3.54-1.31 3.54-1.31.7 1.8.26 3.13.13 3.46.82.9 1.32 2.04 1.32 3.44 0 4.94-3 6.04-5.86 6.36.25.22.47.65.47 1.31 0 .95-.01 1.72-.01 1.95 0 .19.13.39.48.33C18.13 21.06 22 16.97 22 12c0-5.52-4.48-10-10-10z" fill="#fff" data-v-680c4320></path></svg></span><span class="brand-title" data-v-680c4320>Automation Test Results || GeoCall Reports</span></div>',1)),(0,a.Lk)("div",v,[(0,a.bF)(n),t[0]||(t[0]=(0,a.Lk)("a",{href:"https://cucumber.io",target:"_blank",class:"navbar-link"},"cucumber.io",-1))])])]),(0,a.Lk)("main",k,[(0,a.Lk)("div",w,[t[2]||(t[2]=(0,a.Lk)("h1",{class:"main-title"},"Publish and share your test results, straight from this Site.",-1)),t[3]||(t[3]=(0,a.Lk)("p",{class:"subtitle"},[(0,a.eW)("Upload your "),(0,a.Lk)("span",{class:"accent"},"Cucumber JSON"),(0,a.eW)(" test report to visualize the results.")],-1)),(0,a.Lk)("div",b,[(0,a.bF)(l,{onReportUploaded:i.handleFileUpload},null,8,["onReportUploaded"])])]),(0,a.bF)(c,{ref:"reportsCollection"},null,512),(0,a.Lk)("div",S,[t[13]||(t[13]=(0,a.Lk)("h2",null,[(0,a.eW)("Share with your "),(0,a.Lk)("span",{class:"highlight"},"team")],-1)),(0,a.Lk)("div",_,[(0,a.Lk)("div",E,[(0,a.bF)(d,{size:"32",color:"primary",class:"howto-icon"},{default:(0,a.k6)(()=>t[4]||(t[4]=[(0,a.eW)("mdi-upload")])),_:1,__:[4]}),t[5]||(t[5]=(0,a.Lk)("div",{class:"howto-title"},"1. Upload Reports",-1)),t[6]||(t[6]=(0,a.Lk)("div",{class:"howto-description"},"Upload your Cucumber JSON files using the form above",-1))]),(0,a.Lk)("div",x,[(0,a.bF)(d,{size:"32",color:"success",class:"howto-icon"},{default:(0,a.k6)(()=>t[7]||(t[7]=[(0,a.eW)("mdi-cloud-upload")])),_:1,__:[7]}),t[8]||(t[8]=(0,a.Lk)("div",{class:"howto-title"},"2. Publish to Team",-1)),t[9]||(t[9]=(0,a.Lk)("div",{class:"howto-description"},"Click publish to share reports with your team",-1))]),(0,a.Lk)("div",F,[(0,a.bF)(d,{size:"32",color:"info",class:"howto-icon"},{default:(0,a.k6)(()=>t[10]||(t[10]=[(0,a.eW)("mdi-chart-line")])),_:1,__:[10]}),t[11]||(t[11]=(0,a.Lk)("div",{class:"howto-title"},"3. Track Progress",-1)),t[12]||(t[12]=(0,a.Lk)("div",{class:"howto-description"},"Monitor test results and track quality trends over time",-1))])])])]),t[14]||(t[14]=(0,a.Lk)("footer",{class:"footer"},[(0,a.eW)(" Copyright © 2025 SriSri T "),(0,a.Lk)("br"),(0,a.Lk)("a",{href:"#",class:"footer-link"},"Terms & Privacy")],-1))])}const L={class:"d-flex align-center"},R={class:"font-weight-medium"},D={class:"text-caption"},T={key:2,class:"mt-2"},$={class:"grey--text text--darken-1"},I={class:"d-flex align-center justify-space-between mb-2"},A={class:"storage-info mb-3"},W={class:"stored-reports-list"},P=["onClick"],z={class:"text-body-2 font-weight-medium"},M={class:"text-caption text-medium-emphasis"},N={class:"report-actions"};function V(e,t,s,i,n,l){const c=(0,a.g2)("v-card-title"),d=(0,a.g2)("v-file-input"),u=(0,a.g2)("v-alert"),p=(0,a.g2)("v-icon"),h=(0,a.g2)("v-chip"),m=(0,a.g2)("v-card-text"),g=(0,a.g2)("v-spacer"),f=(0,a.g2)("v-btn"),y=(0,a.g2)("v-card-actions"),v=(0,a.g2)("v-divider"),k=(0,a.g2)("v-expand-transition"),w=(0,a.g2)("v-card");return(0,a.uX)(),(0,a.Wv)(w,{class:"mx-auto my-8 pa-6 mobile-uploader-card","max-width":"420"},{default:(0,a.k6)(()=>[(0,a.bF)(c,{class:"text-h6 font-weight-bold"},{default:(0,a.k6)(()=>t[2]||(t[2]=[(0,a.eW)("Upload Cucumber JSON Report")])),_:1,__:[2]}),(0,a.bF)(m,null,{default:(0,a.k6)(()=>[(0,a.bF)(d,{modelValue:n.selectedFile,"onUpdate:modelValue":t[0]||(t[0]=e=>n.selectedFile=e),accept:".json",label:"Select or drag a Cucumber JSON file","prepend-icon":"mdi-file-upload","show-size":"",onChange:l.onFileChange,outlined:"",dense:"",rules:[l.fileTypeRule]},null,8,["modelValue","onChange","rules"]),n.errorMessage?((0,a.uX)(),(0,a.Wv)(u,{key:0,type:"error",dense:"",class:"mt-2"},{default:(0,a.k6)(()=>[(0,a.eW)((0,o.v_)(n.errorMessage),1)]),_:1})):(0,a.Q3)("",!0),n.showStorageInfo&&n.storageStatus?((0,a.uX)(),(0,a.Wv)(u,{key:1,type:n.storageStatus.type,dense:"",class:"mt-2",dismissible:"","onClick:close":l.dismissStorageInfo},{default:(0,a.k6)(()=>[(0,a.Lk)("div",L,[(0,a.bF)(p,{color:"success"===n.storageStatus.type?"success":"warning"===n.storageStatus.type?"warning":"info",class:"mr-2"},{default:(0,a.k6)(()=>[(0,a.eW)((0,o.v_)("server"===n.storageStatus.strategy?"mdi-cloud-upload":"persistent"===n.storageStatus.strategy?"mdi-check-circle":"compressed"===n.storageStatus.strategy?"mdi-alert-circle":"mdi-information"),1)]),_:1},8,["color"]),(0,a.Lk)("div",null,[(0,a.Lk)("div",R,(0,o.v_)("server"===n.storageStatus.strategy?"Uploaded to Server!":"persistent"===n.storageStatus.strategy?"Saved Successfully!":"compressed"===n.storageStatus.strategy?"Saved with Compression":"Session Only"),1),(0,a.Lk)("div",D,(0,o.v_)(n.storageStatus.message),1)])])]),_:1},8,["type","onClick:close"])):(0,a.Q3)("",!0),n.selectedFile&&!n.errorMessage?((0,a.uX)(),(0,a.CE)("div",T,[(0,a.bF)(h,{color:"primary",class:"ma-1"},{default:(0,a.k6)(()=>[(0,a.eW)((0,o.v_)(n.selectedFile.name),1)]),_:1}),(0,a.Lk)("span",$,"("+(0,o.v_)((n.selectedFile.size/1024).toFixed(1))+" KB)",1)])):(0,a.Q3)("",!0)]),_:1}),(0,a.bF)(y,null,{default:(0,a.k6)(()=>[(0,a.bF)(g),(0,a.bF)(f,{color:"success",disabled:!n.selectedFile||!!n.errorMessage,onClick:l.uploadReport},{default:(0,a.k6)(()=>t[3]||(t[3]=[(0,a.eW)("Upload")])),_:1,__:[3]},8,["disabled","onClick"])]),_:1}),l.hasStoredReports?((0,a.uX)(),(0,a.Wv)(m,{key:0,class:"pt-0"},{default:(0,a.k6)(()=>[(0,a.bF)(v,{class:"mb-3"}),(0,a.Lk)("div",I,[t[4]||(t[4]=(0,a.Lk)("span",{class:"text-subtitle-2 font-weight-medium"},"Previously Uploaded Reports",-1)),(0,a.bF)(f,{size:"small",variant:"text",color:"primary",onClick:t[1]||(t[1]=e=>n.showStorageManager=!n.showStorageManager)},{default:(0,a.k6)(()=>[(0,a.eW)((0,o.v_)(n.showStorageManager?"Hide":"Manage")+" ",1),(0,a.bF)(p,{size:"16",class:"ml-1"},{default:(0,a.k6)(()=>[(0,a.eW)((0,o.v_)(n.showStorageManager?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:1})]),_:1})]),(0,a.bF)(k,null,{default:(0,a.k6)(()=>[(0,a.bo)((0,a.Lk)("div",null,[(0,a.Lk)("div",A,[(0,a.bF)(h,{size:"small",color:"info",variant:"outlined"},{default:(0,a.k6)(()=>[(0,a.eW)((0,o.v_)(l.storedReports.length)+" report"+(0,o.v_)(1!==l.storedReports.length?"s":"")+" stored ",1)]),_:1}),(0,a.bF)(h,{size:"small",color:"secondary",variant:"outlined",class:"ml-2"},{default:(0,a.k6)(()=>[(0,a.eW)((0,o.v_)(l.formatStorageSize(l.getTotalStorageSize()))+" used ",1)]),_:1})]),(0,a.Lk)("div",W,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.storedReports,e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:(0,o.C4)(["stored-report-item d-flex align-center justify-space-between pa-2 mb-1",{"session-only":"session"===e.storageStrategy}])},[(0,a.Lk)("div",{class:"flex-grow-1 clickable-area",onClick:t=>l.viewStoredReport(e.id)},[(0,a.Lk)("div",z,(0,o.v_)(e.name),1),(0,a.Lk)("div",M,[(0,a.eW)((0,o.v_)(l.formatDate(e.date))+" • "+(0,o.v_)(l.formatStorageSize(e.size))+" ",1),(0,a.bF)(h,{size:"x-small",color:l.getStorageChipColor(e.storageStrategy),variant:"flat",class:"ml-1"},{default:(0,a.k6)(()=>[(0,a.eW)((0,o.v_)(l.getStorageLabel(e.storageStrategy)),1)]),_:2},1032,["color"])])],8,P),(0,a.Lk)("div",N,[(0,a.bF)(f,{size:"small",variant:"text",color:"primary",onClick:t=>l.viewStoredReport(e.id),icon:"mdi-eye",class:"mr-1"},null,8,["onClick"]),(0,a.bF)(f,{size:"small",variant:"text",color:"error",onClick:t=>l.deleteStoredReport(e.id),icon:"mdi-delete"},null,8,["onClick"])])],2))),128))]),l.storedReports.length>0?((0,a.uX)(),(0,a.Wv)(f,{key:0,size:"small",variant:"outlined",color:"error",onClick:l.clearAllStoredReports,class:"mt-2"},{default:(0,a.k6)(()=>[(0,a.bF)(p,{size:"16",class:"mr-1"},{default:(0,a.k6)(()=>t[5]||(t[5]=[(0,a.eW)("mdi-delete-sweep")])),_:1,__:[5]}),t[6]||(t[6]=(0,a.eW)(" Clear All "))]),_:1,__:[6]},8,["onClick"])):(0,a.Q3)("",!0)],512),[[r.aG,n.showStorageManager]])]),_:1})]),_:1})):(0,a.Q3)("",!0)]),_:1})}const O={NODE_ENV:"production",BASE_URL:"/TestResults/"}.VUE_APP_API_URL||"http://localhost:3001/api";class U{async uploadReport(e,t,s){try{const r=await fetch(`${O}/upload-report`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reportId:e,reportData:t,name:s})}),a=await r.json();if(!r.ok)throw new Error(a.error||"Upload failed");return a}catch(r){throw console.error("Upload service error:",r),r}}async getReports(){try{const e=await fetch(`${O}/reports`),t=await e.json();if(!e.ok)throw new Error(t.error||"Failed to fetch reports");return t.reports||[]}catch(e){throw console.error("Get reports error:",e),e}}async deleteReport(e){try{const t=await fetch(`${O}/reports/${e}`,{method:"DELETE"}),s=await t.json();if(!t.ok)throw new Error(s.error||"Delete failed");return s}catch(t){throw console.error("Delete service error:",t),t}}async regenerateIndex(){try{const e=await fetch(`${O}/regenerate-index`,{method:"POST"}),t=await e.json();if(!e.ok)throw new Error(t.error||"Index regeneration failed");return t}catch(e){throw console.error("Regenerate index error:",e),e}}async checkServerHealth(){try{const e=await fetch(`${O}/health`,{method:"GET",timeout:5e3});return e.ok}catch(e){return console.warn("Upload server not available:",e.message),!1}}getReportUrl(e){const t={NODE_ENV:"production",BASE_URL:"/TestResults/"}.VUE_APP_BASE_URL||window.location.origin;return`${t}/TestResultsJsons/${e}`}}const H=new U;function j(e){if(Array.isArray(e)&&e.length>0){const t=e[0];if(t.name&&(t.elements||t.scenarios))return{format:"standard",data:e}}return e.features&&Array.isArray(e.features)?{format:"wrapped",data:e.features}:e.name&&(e.elements||e.scenarios)?{format:"single",data:[e]}:e.results&&Array.isArray(e.results)?{format:"testng",data:e.results}:{format:"unknown",data:null}}function X(e){if(!Array.isArray(e)||0===e.length)return{valid:!1,error:"No features found"};const t=e.some(e=>e.name&&(e.elements&&Array.isArray(e.elements)||e.scenarios&&Array.isArray(e.scenarios)));return t?{valid:!0}:{valid:!1,error:"No valid features with scenarios found"}}const B={data(){return{selectedFile:null,errorMessage:"",storageStatus:null,showStorageInfo:!1,showStorageManager:!1,$uploadService:H}},computed:{storedReports(){try{return JSON.parse(localStorage.getItem("uploaded-reports-index")||"[]")}catch(e){return[]}},hasStoredReports(){return this.storedReports.length>0}},methods:{fileTypeRule(e){return!e||(!(!e.name||!e.name.endsWith(".json"))||"Only .json files are allowed")},onFileChange(e){if(this.errorMessage="",e)return e.name&&!e.name.endsWith(".json")?(this.errorMessage="Please select a valid .json file.",void(this.selectedFile=null)):void 0},uploadReport(){if(this.selectedFile){const e=new FileReader;e.onload=async e=>{try{const r=JSON.parse(e.target.result),a=j(r);if("unknown"===a.format||!a.data)return void(this.errorMessage=`Unsupported file format. Expected Cucumber JSON report but found: ${typeof r}. Please check the file format.`);const o=X(a.data);if(!o.valid)return void(this.errorMessage=`Invalid Cucumber JSON report: ${o.error}. Please ensure the file contains valid test results.`);let i=a.data;console.log(`✅ Detected format: ${a.format}, Features: ${i.length}`);const n=this.fixSkippedStepsWithDuration(i);n>0&&console.log(`🔧 Auto-fixed ${n} skipped steps that had duration values`);const l="report-"+Date.now(),c=this.selectedFile.name.replace(/\.json$/i,""),d=(new Date).toISOString();this.$store.commit("setReportData",i);try{const e=await this.$uploadService.uploadReport(l,i,c);if(e.success)return this.showStorageStatus("server",`Report uploaded to server successfully! Available at: ${e.url}`),this.saveToLocalStorage(l,i,c,d,"server"),this.$emit("report-uploaded",{...i,_uploadedId:l,_storageStrategy:"server",_storageMessage:"Report saved to server and will be available in the reports index.",_serverUrl:e.url}),void(this.selectedFile=null)}catch(t){console.warn("Server upload failed, falling back to localStorage:",t.message)}const u=JSON.stringify(i).length,p=5242880;let h="session",m="Report uploaded successfully for this session.";if(u<p)try{localStorage.setItem("uploaded-report-"+l,JSON.stringify(i)),h="persistent",m="Report saved successfully! It will persist across browser sessions."}catch(e){try{const e={features:i.features.map(e=>({name:e.name,uri:e.uri,id:e.id,tags:e.tags,elements:e.elements?e.elements.map(e=>({name:e.name,id:e.id,type:e.type,keyword:e.keyword,tags:e.tags,steps:e.steps?e.steps.map(e=>({name:e.name,keyword:e.keyword,result:e.result,duration:e.duration})):[]})):[]}))};localStorage.setItem("uploaded-report-"+l,JSON.stringify(e)),h="compressed",m="Report saved with compression. Some detailed information may be reduced to fit storage limits."}catch(s){console.warn("Could not save report to localStorage:",s),h="session"}}else m="Large report uploaded successfully (session only due to size).";this.saveToLocalStorage(l,i,c,d,h),this.$emit("report-uploaded",{...i,_uploadedId:l,_storageStrategy:h,_storageMessage:m}),this.showStorageStatus(h,m),this.selectedFile=null}catch(r){this.errorMessage="Invalid JSON file: "+(r&&r.message?r.message:"Unknown error.")}},e.readAsText(this.selectedFile)}},showStorageStatus(e,t){this.storageStatus={strategy:e,message:t,type:this.getStorageAlertType(e)},this.showStorageInfo=!0,"persistent"!==e&&"server"!==e||setTimeout(()=>{this.showStorageInfo=!1},5e3)},getStorageAlertType(e){switch(e){case"server":return"success";case"persistent":return"success";case"compressed":return"warning";case"session":return"info";default:return"info"}},saveToLocalStorage(e,t,s,r,a){try{const o=JSON.stringify(t).length,i=this.calculateReportStatistics(t);let n=JSON.parse(localStorage.getItem("uploaded-reports-index")||"[]");const l={id:e,name:s,date:r,size:o,storageStrategy:a,persistent:"session"!==a,features:i.features,scenarios:i.scenarios,steps:i.steps,passed:i.passed,failed:i.failed,skipped:i.skipped,duration:i.duration,tags:i.tags};n.unshift(l),localStorage.setItem("uploaded-reports-index",JSON.stringify(n)),console.log(`✅ Saved report ${e} to localStorage with stats:`,i)}catch(o){console.warn("Failed to update localStorage index:",o)}},calculateReportStatistics(e){let t=0,s=0,r=0,a=0,o=0,i=0,n=0;const l=new Set,c=Array.isArray(e)?e:e.features||[];return c.forEach(e=>{t++,e.tags&&e.tags.forEach(e=>l.add(e.name||e));const c=e.elements||e.scenarios||[];c.forEach(e=>{"scenario"!==e.type&&e.type||(s++,e.tags&&e.tags.forEach(e=>l.add(e.name||e)),e.steps&&e.steps.forEach(e=>{if(r++,e.result){switch(e.result.status){case"passed":a++;break;case"failed":o++;break;case"skipped":case"pending":case"undefined":i++;break}if(e.result.duration){const t=e.result.duration>1e6?e.result.duration/1e6:e.result.duration;n+=t}}}))})}),{features:t,scenarios:s,steps:r,passed:a,failed:o,skipped:i,duration:Math.round(n),tags:Array.from(l)}},dismissStorageInfo(){this.showStorageInfo=!1},fixSkippedStepsWithDuration(e){let t=0;return e.forEach(e=>{e.elements&&e.elements.forEach(e=>{e.steps&&e.steps.forEach(e=>{e.result&&"skipped"===e.result.status&&e.result.duration&&e.result.duration>0&&(e.result.status="passed",t++)})})}),t},getTotalStorageSize(){return this.storedReports.reduce((e,t)=>e+(t.size||0),0)},formatStorageSize(e){if(0===e)return"0 B";const t=1024,s=["B","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,r)).toFixed(1))+" "+s[r]},formatDate(e){try{const t=new Date(e);return t.toLocaleDateString()+" "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch(t){return"Unknown date"}},getStorageChipColor(e){switch(e){case"server":return"primary";case"persistent":return"success";case"compressed":return"warning";case"session":return"info";default:return"grey"}},getStorageLabel(e){switch(e){case"server":return"Server";case"persistent":return"Saved";case"compressed":return"Compressed";case"session":return"Session";default:return"Unknown"}},deleteStoredReport(e){try{localStorage.removeItem("uploaded-report-"+e);let t=JSON.parse(localStorage.getItem("uploaded-reports-index")||"[]");t=t.filter(t=>t.id!==e),localStorage.setItem("uploaded-reports-index",JSON.stringify(t)),this.$forceUpdate(),this.showStorageStatus("success",`Report "${e}" deleted successfully.`)}catch(t){console.error("Error deleting report:",t),this.errorMessage="Failed to delete report. Please try again."}},clearAllStoredReports(){if(confirm("Are you sure you want to delete all stored reports? This action cannot be undone."))try{this.storedReports.forEach(e=>{localStorage.removeItem("uploaded-report-"+e.id)}),localStorage.removeItem("uploaded-reports-index"),this.$forceUpdate(),this.showStorageStatus("success","All stored reports have been deleted."),this.showStorageManager=!1}catch(e){console.error("Error clearing reports:",e),this.errorMessage="Failed to clear reports. Please try again."}},viewStoredReport(e){try{const t=localStorage.getItem("uploaded-report-"+e);if(t){const s=JSON.parse(t);this.$store.commit("setReportData",{...s,_uploadedId:e}),this.$router.push({name:"Report",params:{id:e},query:{t:Date.now()}})}else{this.showStorageStatus("error",`Report "${e}" not found. It may have been deleted or expired.`);let t=JSON.parse(localStorage.getItem("uploaded-reports-index")||"[]");t=t.filter(t=>t.id!==e),localStorage.setItem("uploaded-reports-index",JSON.stringify(t)),this.$forceUpdate()}}catch(t){console.error("Error loading stored report:",t),this.errorMessage="Failed to load report. Please try again."}}}},J=(0,c.A)(B,[["render",V],["__scopeId","data-v-30759efa"]]),Q=J,G={class:"reports-collection-container"},K={class:"header-left"},q={class:"header-text"},Y={key:0,class:"collection-subtitle"},Z={class:"header-actions"},ee={key:0},te={key:0},se={class:"filters-grid"},re={key:0,class:"loading-state"},ae={key:2,class:"empty-state"},oe={class:"text-medium-emphasis"},ie={key:3,class:"reports-grid"},ne={class:"report-header"},le={class:"report-header-top"},ce={class:"status-and-date"},de={class:"date-info"},ue={class:"report-actions"},pe={class:"report-header-bottom"},he={class:"test-counts-info"},me={class:"test-count-item"},ge={class:"passed-count"},fe={class:"test-count-item"},ye={class:"failed-count"},ve={class:"test-count-item"},ke={class:"skipped-count"},we={class:"sync-status-indicators"},be={class:"progress-section"},Se={class:"progress-stats"},_e={class:"total-tests"},Ee={key:0,class:"tags-section"},xe={key:0,class:"more-tags"},Fe={class:"report-identifier"},Ce={class:"json-filename"};function Le(e,t,s,i,n,l){const c=(0,a.g2)("v-icon"),d=(0,a.g2)("v-btn"),u=(0,a.g2)("v-card-title"),p=(0,a.g2)("v-text-field"),h=(0,a.g2)("v-select"),m=(0,a.g2)("v-card-text"),g=(0,a.g2)("v-expand-transition"),f=(0,a.g2)("v-progress-circular"),y=(0,a.g2)("v-alert"),v=(0,a.g2)("v-list-item-title"),k=(0,a.g2)("v-list-item"),w=(0,a.g2)("v-list"),b=(0,a.g2)("v-menu"),S=(0,a.g2)("v-chip"),_=(0,a.g2)("v-progress-linear"),E=(0,a.g2)("v-card"),x=(0,a.g2)("ConfirmationDialog"),F=(0,a.g2)("v-snackbar");return(0,a.uX)(),(0,a.CE)("div",G,[(0,a.bF)(E,{class:"reports-collection-card"},{default:(0,a.k6)(()=>[(0,a.bF)(u,{class:"reports-collection-header"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",K,[(0,a.bF)(c,{color:"primary",size:e.$vuetify.display.mobile?20:24,class:"header-icon"},{default:(0,a.k6)(()=>t[9]||(t[9]=[(0,a.eW)("mdi-folder-multiple")])),_:1,__:[9]},8,["size"]),(0,a.Lk)("div",q,[t[10]||(t[10]=(0,a.Lk)("h3",{class:"collection-title"},"Test Reports:",-1)),n.reportsCollection.length>0?((0,a.uX)(),(0,a.CE)("p",Y,(0,o.v_)(n.reportsCollection.length)+" report"+(0,o.v_)(1!==n.reportsCollection.length?"s":"")+" available ",1)):(0,a.Q3)("",!0)])]),(0,a.Lk)("div",Z,[(0,a.bF)(d,{size:e.$vuetify.display.mobile?"x-small":"small",variant:"outlined",color:"primary",onClick:l.refreshReports,loading:n.loading,class:"action-btn"},{default:(0,a.k6)(()=>[(0,a.bF)(c,{size:e.$vuetify.display.mobile?14:16,class:(0,o.C4)(e.$vuetify.display.mobile?"":"mr-1")},{default:(0,a.k6)(()=>t[11]||(t[11]=[(0,a.eW)("mdi-refresh")])),_:1,__:[11]},8,["size","class"]),e.$vuetify.display.mobile?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("span",ee,"Refresh"))]),_:1},8,["size","onClick","loading"]),(0,a.bF)(d,{size:e.$vuetify.display.mobile?"x-small":"small",variant:"text",color:"secondary",onClick:t[0]||(t[0]=e=>n.showFilters=!n.showFilters),class:"action-btn"},{default:(0,a.k6)(()=>[(0,a.bF)(c,{size:e.$vuetify.display.mobile?14:16,class:(0,o.C4)(e.$vuetify.display.mobile?"":"mr-1")},{default:(0,a.k6)(()=>t[12]||(t[12]=[(0,a.eW)("mdi-filter")])),_:1,__:[12]},8,["size","class"]),e.$vuetify.display.mobile?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("span",te,"Filter"))]),_:1},8,["size"])])]),_:1}),(0,a.bF)(g,null,{default:(0,a.k6)(()=>[(0,a.bo)((0,a.bF)(m,{class:"filters-section"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",se,[(0,a.bF)(p,{modelValue:n.searchQuery,"onUpdate:modelValue":t[1]||(t[1]=e=>n.searchQuery=e),placeholder:"Search reports...","prepend-inner-icon":"mdi-magnify",variant:"outlined",density:"compact",clearable:"","hide-details":"",class:"search-field"},null,8,["modelValue"]),(0,a.bF)(h,{modelValue:n.statusFilter,"onUpdate:modelValue":t[2]||(t[2]=e=>n.statusFilter=e),items:n.statusOptions,label:"Status",variant:"outlined",density:"compact",clearable:"","hide-details":"",class:"filter-select"},null,8,["modelValue","items"]),(0,a.bF)(h,{modelValue:n.sortBy,"onUpdate:modelValue":t[3]||(t[3]=e=>n.sortBy=e),items:n.sortOptions,label:"Sort by",variant:"outlined",density:"compact","hide-details":"",class:"filter-select"},null,8,["modelValue","items"]),(0,a.bF)(h,{modelValue:n.syncStatusFilter,"onUpdate:modelValue":t[4]||(t[4]=e=>n.syncStatusFilter=e),items:n.syncStatusOptions,label:"Sync Status",variant:"outlined",density:"compact",clearable:"","hide-details":"",class:"filter-select"},null,8,["modelValue","items"])])]),_:1},512),[[r.aG,n.showFilters]])]),_:1}),(0,a.bF)(m,{class:"reports-content"},{default:(0,a.k6)(()=>[n.loading?((0,a.uX)(),(0,a.CE)("div",re,[(0,a.bF)(f,{indeterminate:"",color:"primary",class:"mb-2"}),t[13]||(t[13]=(0,a.Lk)("p",null,"Loading reports...",-1))])):n.reportsCollectionError?((0,a.uX)(),(0,a.Wv)(y,{key:1,type:"error",class:"mb-4"},{append:(0,a.k6)(()=>[(0,a.bF)(d,{size:"small",variant:"text",onClick:l.refreshReports},{default:(0,a.k6)(()=>t[14]||(t[14]=[(0,a.eW)(" Retry ")])),_:1,__:[14]},8,["onClick"])]),default:(0,a.k6)(()=>[(0,a.eW)((0,o.v_)(n.reportsCollectionError)+" ",1)]),_:1})):0===l.filteredReports.length?((0,a.uX)(),(0,a.CE)("div",ae,[(0,a.bF)(c,{size:"64",color:"grey-lighten-1",class:"mb-4"},{default:(0,a.k6)(()=>t[15]||(t[15]=[(0,a.eW)("mdi-folder-open")])),_:1,__:[15]}),t[16]||(t[16]=(0,a.Lk)("h4",{class:"mb-2"},"No reports found",-1)),(0,a.Lk)("p",oe,(0,o.v_)(0===n.reportsCollection.length?"Upload your first report to get started":"Try adjusting your filters"),1)])):((0,a.uX)(),(0,a.CE)("div",ie,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.filteredReports,s=>((0,a.uX)(),(0,a.Wv)(E,{key:s.id,class:(0,o.C4)(["report-card",{"report-failed":s.failed>0}]),onClick:e=>l.navigateToReport(s)},{default:(0,a.k6)(()=>[(0,a.bF)(m,{class:"report-content"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",ne,[(0,a.Lk)("div",le,[(0,a.Lk)("div",ce,[(0,a.bF)(c,{color:l.getStatusColor(s),size:"20",class:"status-icon"},{default:(0,a.k6)(()=>[(0,a.eW)((0,o.v_)(l.getStatusIcon(s)),1)]),_:2},1032,["color"]),(0,a.Lk)("span",de,(0,o.v_)(l.formatDate(s.date)),1)]),(0,a.Lk)("div",ue,[(0,a.bF)(d,{icon:l.isPublished(s)?"mdi-cloud-check":"mdi-cloud-upload",size:"small",variant:"text",color:l.isPublished(s)?"success":"primary",onClick:(0,r.D$)(e=>l.togglePublishStatus(s),["stop"]),title:l.isPublished(s)?"Unpublish from GitHub Pages":"Publish to GitHub Pages"},null,8,["icon","color","onClick","title"]),(0,a.bF)(b,null,{activator:(0,a.k6)(({props:e})=>[(0,a.bF)(d,(0,a.v6)({icon:"mdi-dots-vertical",size:"small",variant:"text"},{ref_for:!0},e,{onClick:t[5]||(t[5]=(0,r.D$)(()=>{},["stop"]))}),null,16)]),default:(0,a.k6)(()=>[(0,a.bF)(w,null,{default:(0,a.k6)(()=>[(0,a.bF)(k,{onClick:e=>l.navigateToReport(s)},{default:(0,a.k6)(()=>[(0,a.bF)(v,null,{default:(0,a.k6)(()=>[(0,a.bF)(c,{size:"16",class:"mr-2"},{default:(0,a.k6)(()=>t[17]||(t[17]=[(0,a.eW)("mdi-eye")])),_:1,__:[17]}),t[18]||(t[18]=(0,a.eW)(" View Report "))]),_:1,__:[18]})]),_:2},1032,["onClick"]),(0,a.bF)(k,{onClick:e=>l.togglePublishStatus(s)},{default:(0,a.k6)(()=>[(0,a.bF)(v,null,{default:(0,a.k6)(()=>[(0,a.bF)(c,{size:"16",class:"mr-2"},{default:(0,a.k6)(()=>[(0,a.eW)((0,o.v_)(l.isPublished(s)?"mdi-cloud-off":"mdi-cloud-upload"),1)]),_:2},1024),(0,a.eW)(" "+(0,o.v_)(l.isPublished(s)?"Unpublish":"Publish to GitHub Pages"),1)]),_:2},1024)]),_:2},1032,["onClick"]),(0,a.bF)(k,{onClick:e=>l.deleteReport(s),class:"text-error",disabled:s.deleting},{default:(0,a.k6)(()=>[(0,a.bF)(v,null,{default:(0,a.k6)(()=>[(0,a.bF)(c,{size:"16",class:"mr-2"},{default:(0,a.k6)(()=>[(0,a.eW)((0,o.v_)(s.deleting?"mdi-loading mdi-spin":"mdi-delete"),1)]),_:2},1024),(0,a.eW)(" "+(0,o.v_)(s.deleting?"Deleting...":"Delete"),1)]),_:2},1024)]),_:2},1032,["onClick","disabled"])]),_:2},1024)]),_:2},1024)])]),(0,a.Lk)("div",pe,[(0,a.Lk)("div",he,[(0,a.Lk)("span",me,[(0,a.Lk)("span",ge,(0,o.v_)(s.passed||0),1),t[19]||(t[19]=(0,a.Lk)("span",{class:"count-label"},"passed",-1))]),t[22]||(t[22]=(0,a.Lk)("span",{class:"test-count-separator"},"•",-1)),(0,a.Lk)("span",fe,[(0,a.Lk)("span",ye,(0,o.v_)(s.failed||0),1),t[20]||(t[20]=(0,a.Lk)("span",{class:"count-label"},"failed",-1))]),t[23]||(t[23]=(0,a.Lk)("span",{class:"test-count-separator"},"•",-1)),(0,a.Lk)("span",ve,[(0,a.Lk)("span",ke,(0,o.v_)(s.skipped||0),1),t[21]||(t[21]=(0,a.Lk)("span",{class:"count-label"},"skipped",-1))])]),(0,a.Lk)("div",we,["synced"!==l.getReportSyncStatus(s)?((0,a.uX)(),(0,a.Wv)(S,{key:0,color:l.getSyncStatusColor(s),size:"x-small",variant:"outlined",class:"sync-status-chip"},{default:(0,a.k6)(()=>[(0,a.bF)(c,{size:"12",class:"mr-1"},{default:(0,a.k6)(()=>[(0,a.eW)((0,o.v_)(l.getSyncStatusIcon(s)),1)]),_:2},1024),(0,a.eW)(" "+(0,o.v_)(l.getSyncStatusLabel(s)),1)]),_:2},1032,["color"])):(0,a.Q3)("",!0)])])]),(0,a.Lk)("div",be,[(0,a.bF)(_,{"model-value":l.getPassPercentage(s),color:l.getProgressColor(s),height:"6",rounded:"",class:"mb-2"},null,8,["model-value","color"]),(0,a.Lk)("div",Se,[(0,a.Lk)("span",_e,(0,o.v_)((s.passed||0)+(s.failed||0)+(s.skipped||0))+" total tests",1),(0,a.Lk)("span",{class:(0,o.C4)(["pass-rate-text",l.getPassRateClass(s)])},(0,o.v_)(l.getPassPercentage(s).toFixed(1))+"% passed ",3)])]),s.tags&&s.tags.length?((0,a.uX)(),(0,a.CE)("div",Ee,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.tags.slice(0,e.$vuetify.display.mobile?2:3),e=>((0,a.uX)(),(0,a.Wv)(S,{key:e,size:"x-small",variant:"outlined",class:"tag-chip"},{default:(0,a.k6)(()=>[(0,a.eW)((0,o.v_)(e),1)]),_:2},1024))),128)),s.tags.length>(e.$vuetify.display.mobile?2:3)?((0,a.uX)(),(0,a.CE)("span",xe," +"+(0,o.v_)(s.tags.length-(e.$vuetify.display.mobile?2:3))+" more ",1)):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0),(0,a.Lk)("div",Fe,[(0,a.Lk)("span",Ce,(0,o.v_)(l.extractJsonFilename(s.id)),1)])]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]))]),_:1})]),_:1}),(0,a.bF)(x,{modelValue:n.confirmationDialog.show,"onUpdate:modelValue":t[6]||(t[6]=e=>n.confirmationDialog.show=e),title:n.confirmationDialog.title,message:n.confirmationDialog.message,details:n.confirmationDialog.details,type:n.confirmationDialog.type,"confirm-text":n.confirmationDialog.confirmText,"confirm-color":n.confirmationDialog.confirmColor,"show-environment-info":n.confirmationDialog.showEnvironmentInfo,environment:n.confirmationDialog.environment,onConfirm:n.confirmationDialog.onConfirm,onCancel:n.confirmationDialog.onCancel},null,8,["modelValue","title","message","details","type","confirm-text","confirm-color","show-environment-info","environment","onConfirm","onCancel"]),(0,a.bF)(F,{modelValue:n.snackbar.show,"onUpdate:modelValue":t[8]||(t[8]=e=>n.snackbar.show=e),color:n.snackbar.color,timeout:n.snackbar.timeout,location:"top right"},{actions:(0,a.k6)(()=>[(0,a.bF)(d,{variant:"text",onClick:t[7]||(t[7]=e=>n.snackbar.show=!1)},{default:(0,a.k6)(()=>t[24]||(t[24]=[(0,a.eW)(" Close ")])),_:1,__:[24]})]),default:(0,a.k6)(()=>[(0,a.eW)((0,o.v_)(n.snackbar.message)+" ",1)]),_:1},8,["modelValue","color","timeout"])])}class Re{constructor(e={}){this.options={strictMode:e.strictMode||!1,generatePlaceholders:!1!==e.generatePlaceholders,maxErrors:e.maxErrors||100,logLevel:e.logLevel||"warn"},this.validationErrors=[],this.validationWarnings=[],this.processedEntries=0,this.skippedEntries=0}validateReport(e,t="unknown"){this.reset();const s={isValid:!0,errors:[],warnings:[],sanitizedData:null,originalEntryCount:0,processedEntryCount:0,skippedEntries:[]};try{if(!this.validateBasicStructure(e))return s.isValid=!1,s.errors=this.validationErrors,s;s.originalEntryCount=this.countOriginalEntries(e);const r=[];e.forEach((e,a)=>{try{const o=this.sanitizeFeature(e,a,t);o?(r.push(o),this.processedEntries++):(this.skippedEntries++,s.skippedEntries.push({type:"feature",index:a,reason:"Failed sanitization"}))}catch(o){this.addError(`Feature ${a}`,o.message,{featureIndex:a,filename:t}),this.skippedEntries++,s.skippedEntries.push({type:"feature",index:a,reason:o.message})}}),s.sanitizedData=r,s.processedEntryCount=this.processedEntries,s.errors=this.validationErrors,s.warnings=this.validationWarnings,s.isValid=0===this.validationErrors.length,this.log(`Validation complete for ${t}: ${s.processedEntryCount}/${s.originalEntryCount} entries processed`)}catch(r){s.isValid=!1,s.errors.push({type:"critical",message:`Critical validation error: ${r.message}`,context:{filename:t}})}return s}validateBasicStructure(e){return Array.isArray(e)?0!==e.length||(this.addWarning("Root","Empty features array",{}),!0):(this.addError("Root","Cucumber JSON must be an array of features",{expectedType:"array",actualType:typeof e}),!1)}countOriginalEntries(e){let t=0;return Array.isArray(e)&&e.forEach(e=>{t++,e.elements&&Array.isArray(e.elements)&&(t+=e.elements.length)}),t}sanitizeFeature(e,t,s){if(!e||"object"!==typeof e)return this.addError(`Feature ${t}`,"Feature must be an object",{featureIndex:t,filename:s}),null;const r={...e,name:this.sanitizeTestName(e.name,`Feature ${t}`,"feature"),elements:[]},a=e.elements||e.scenarios||[];return Array.isArray(a)&&a.forEach((e,a)=>{try{const o=this.sanitizeScenario(e,t,a,s);o?r.elements.push(o):this.skippedEntries++}catch(o){this.addError(`Feature ${t}, Scenario ${a}`,o.message,{featureIndex:t,elementIndex:a,filename:s})}}),r}sanitizeScenario(e,t,s,r){if(!e||"object"!==typeof e)return this.addError(`Feature ${t}, Scenario ${s}`,"Scenario must be an object",{featureIndex:t,scenarioIndex:s,filename:r}),null;const a={...e,name:this.sanitizeTestName(e.name,`Scenario ${s}`,"scenario"),id:e.id||this.generateId(e.name,t,s),type:e.type||"scenario"};return e.steps&&Array.isArray(e.steps)&&(a.steps=e.steps.map((e,a)=>this.sanitizeStep(e,t,s,a,r)).filter(e=>null!==e)),e.before&&Array.isArray(e.before)&&(a.before=e.before.map(e=>this.sanitizeHook(e,"before"))),e.after&&Array.isArray(e.after)&&(a.after=e.after.map(e=>this.sanitizeHook(e,"after"))),a}sanitizeStep(e,t,s,r,a){if(!e||"object"!==typeof e)return this.addError(`Feature ${t}, Scenario ${s}, Step ${r}`,"Step must be an object",{featureIndex:t,scenarioIndex:s,stepIndex:r,filename:a}),null;const o={...e,name:this.sanitizeTestName(e.name,`Step ${r}`,"step"),keyword:e.keyword||"Given "};return e.result||e.status||(this.addWarning(`Feature ${t}, Scenario ${s}, Step ${r}`,"Step missing result/status, defaulting to unknown",{featureIndex:t,scenarioIndex:s,stepIndex:r}),o.result={status:"unknown",duration:0}),o}sanitizeHook(e,t){return e&&"object"===typeof e?{...e,result:e.result||{status:"unknown",duration:0},match:e.match||{location:`${t} hook`}}:{result:{status:"unknown",duration:0},match:{location:`unknown ${t} hook`}}}sanitizeTestName(e,t,s){if(!e||"string"!==typeof e||""===e.trim()){if(this.options.generatePlaceholders){const r=`${t} (auto-generated)`;return this.addWarning("Name Sanitization",`Empty ${s} name replaced with placeholder: ${r}`,{originalName:e,placeholder:r}),r}return this.addError("Name Sanitization",`${s} name is null or empty`,{originalName:e}),t}return e.trim()}generateId(e,t,s){const r=e||`scenario-${s}`;return`feature-${t}-${r.toLowerCase().replace(/[^a-z0-9]/g,"-")}-${s}`}handleMalformedEntry(e,t){const s={recovered:!1,sanitizedEntry:null,errors:[]};try{if(!e)return s.errors.push("Entry is null or undefined"),s;if("object"!==typeof e)return s.errors.push("Entry is not an object: "+typeof e),s;const r={...e};r.name||(r.name=t.fallbackName||"Recovered Entry"),r.id||(r.id=this.generateId(r.name,t.featureIndex||0,t.scenarioIndex||0)),s.recovered=!0,s.sanitizedEntry=r}catch(r){s.errors.push(`Recovery failed: ${r.message}`)}return s}generateValidationReport(){return{summary:{totalErrors:this.validationErrors.length,totalWarnings:this.validationWarnings.length,processedEntries:this.processedEntries,skippedEntries:this.skippedEntries,successRate:this.processedEntries>0?(this.processedEntries/(this.processedEntries+this.skippedEntries)*100).toFixed(2):0},errors:this.validationErrors,warnings:this.validationWarnings,recommendations:this.generateRecommendations()}}generateRecommendations(){const e=[];return this.validationErrors.length>0&&e.push("Fix critical validation errors before processing reports"),this.validationWarnings.length>5&&e.push("Consider improving test data quality to reduce warnings"),this.skippedEntries>.1*this.processedEntries&&e.push("High number of skipped entries detected - review test execution"),e}addError(e,t,s={}){this.validationErrors.length>=this.options.maxErrors||(this.validationErrors.push({type:"error",location:e,message:t,context:s,timestamp:(new Date).toISOString()}),this.log(`ERROR [${e}]: ${t}`,"error"))}addWarning(e,t,s={}){this.validationWarnings.push({type:"warning",location:e,message:t,context:s,timestamp:(new Date).toISOString()}),this.log(`WARN [${e}]: ${t}`,"warn")}reset(){this.validationErrors=[],this.validationWarnings=[],this.processedEntries=0,this.skippedEntries=0}log(e,t="info"){if("none"===this.options.logLevel)return;const s={error:0,warn:1,info:2,debug:3},r=s[this.options.logLevel]||2,a=s[t]||2;a<=r&&(console[t]?console[t](`[CucumberJsonValidator] ${e}`):console.log(`[CucumberJsonValidator] ${e}`))}}const De=Re;class Te{constructor(e={}){this.options={treatSetupFailuresAsFailed:!1!==e.treatSetupFailuresAsFailed,treatTeardownFailuresAsFailed:!1!==e.treatTeardownFailuresAsFailed,logLevel:e.logLevel||"warn"}}calculateScenarioStatus(e){if(!e)return{status:"unknown",reason:"Scenario is null or undefined"};const t={status:"unknown",reason:"",details:{setupStatus:"not_executed",executionStatus:"not_executed",teardownStatus:"not_executed",hasSteps:!1,hasSetup:!1,hasTeardown:!1}};try{const s=this.analyzeSetupPhase(e);t.details.setupStatus=s.status,t.details.hasSetup=s.hasHooks;const r=this.analyzeExecutionPhase(e);t.details.executionStatus=r.status,t.details.hasSteps=r.hasSteps;const a=this.analyzeTeardownPhase(e);t.details.teardownStatus=a.status,t.details.hasTeardown=a.hasHooks;const o=this.determineOverallStatus(s,r,a);t.status=o.status,t.reason=o.reason,this.log(`Scenario "${e.name||"unnamed"}": ${t.status} (${t.reason})`)}catch(s){t.status="error",t.reason=`Status calculation error: ${s.message}`,this.log(`Error calculating status for scenario: ${s.message}`,"error")}return t}calculateFeatureStatus(e){if(!e||!e.elements)return{status:"unknown",reason:"Feature has no scenarios"};const t=e.elements.filter(e=>"background"!==e.type);if(0===t.length)return{status:"unknown",reason:"No executable scenarios found"};let s,r,a=0,o=0,i=0,n=0;return t.forEach(e=>{const t=this.calculateScenarioStatus(e);switch(t.status){case"passed":a++;break;case"failed":o++;break;case"skipped":i++;break;default:n++;break}}),n>0?(s="error",r=`${n} scenarios have errors`):o>0?(s="failed",r=`${o} of ${t.length} scenarios failed`):i===t.length?(s="skipped",r="All scenarios were skipped"):a===t.length?(s="passed",r="All scenarios passed"):(s="mixed",r=`${a} passed, ${o} failed, ${i} skipped`),{status:s,reason:r,counts:{passed:a,failed:o,skipped:i,errors:n,total:t.length}}}analyzeSetupPhase(e){const t={status:"not_executed",hasHooks:!1,failureReason:null};if(!e.before||!Array.isArray(e.before))return t;t.hasHooks=e.before.length>0;for(const s of e.before){const e=this.getHookStatus(s);if("failed"===e)return t.status="failed",t.failureReason=this.extractErrorMessage(s),t;"passed"===e&&(t.status="passed")}return t}analyzeExecutionPhase(e){const t={status:"not_executed",hasSteps:!1,failureReason:null};if(!e.steps||!Array.isArray(e.steps))return t;t.hasSteps=e.steps.length>0;let s=!1,r=!1,a=!1;for(const o of e.steps){const e=this.getStepStatus(o);switch(e){case"passed":s=!0;break;case"failed":r=!0,t.failureReason=this.extractErrorMessage(o);break;case"skipped":a=!0;break}}return r?t.status="failed":s&&!a?t.status="passed":a&&!s?t.status="skipped":s&&a&&(t.status="mixed"),t}analyzeTeardownPhase(e){const t={status:"not_executed",hasHooks:!1,failureReason:null};if(!e.after||!Array.isArray(e.after))return t;t.hasHooks=e.after.length>0;for(const s of e.after){const e=this.getHookStatus(s);if("failed"===e)return t.status="failed",t.failureReason=this.extractErrorMessage(s),t;"passed"===e&&(t.status="passed")}return t}determineOverallStatus(e,t,s){if(this.options.treatSetupFailuresAsFailed&&"failed"===e.status)return{status:"failed",reason:`Setup failed: ${e.failureReason||"Before hook failed"}`};if(this.options.treatTeardownFailuresAsFailed&&"failed"===s.status)return{status:"failed",reason:`Teardown failed: ${s.failureReason||"After hook failed"}`};switch(t.status){case"failed":return{status:"failed",reason:`Test execution failed: ${t.failureReason||"Step failed"}`};case"passed":return{status:"passed",reason:"All steps passed successfully"};case"skipped":return{status:"skipped",reason:"Test steps were skipped"};case"mixed":return{status:"failed",reason:"Some steps failed or were skipped"};case"not_executed":return t.hasSteps?{status:"unknown",reason:"Steps present but execution status unclear"}:{status:"skipped",reason:"No executable steps found"};default:return{status:"unknown",reason:"Unable to determine execution status"}}}handleSetupFailures(e,t){const s={setupFailed:!1,teardownFailed:!1,setupError:null,teardownError:null,shouldFailTest:!1};if(e&&Array.isArray(e))for(const r of e)if("failed"===this.getHookStatus(r)){s.setupFailed=!0,s.setupError=this.extractErrorMessage(r),this.options.treatSetupFailuresAsFailed&&(s.shouldFailTest=!0);break}if(t&&Array.isArray(t))for(const r of t)if("failed"===this.getHookStatus(r)){s.teardownFailed=!0,s.teardownError=this.extractErrorMessage(r),this.options.treatTeardownFailuresAsFailed&&(s.shouldFailTest=!0);break}return s}classifyTestResult(e){return e?e.elements?this.calculateFeatureStatus(e):e.steps||e.before||e.after?this.calculateScenarioStatus(e):{status:"unknown",reason:"Unrecognized test data format"}:{status:"error",reason:"No test data provided"}}getHookStatus(e){return e?e.result?e.result.status||"unknown":e.status?e.status:"unknown":"unknown"}getStepStatus(e){return e?e.result?e.result.status||"unknown":e.status?e.status:"unknown":"unknown"}extractErrorMessage(e){return e?e.result&&e.result.error_message?this.sanitizeErrorMessage(e.result.error_message):e.result&&e.result.errorMessage?this.sanitizeErrorMessage(e.result.errorMessage):e.error_message?this.sanitizeErrorMessage(e.error_message):e.result&&"failed"===e.result.status?"Step or hook failed (no error message available)":null:null}sanitizeErrorMessage(e){return e&&"string"===typeof e?e.length>500?e.substring(0,500)+"... (truncated)":e.trim():"Unknown error"}isElementNotInteractableException(e){return!!e&&(e.includes("ElementNotInteractableException")||e.includes("element not interactable"))}isNullTestNameException(e){return!!e&&(e.includes("IllegalArgumentException")&&e.includes("Test name must not be null or empty"))}log(e,t="info"){const s={error:0,warn:1,info:2,debug:3},r=s[this.options.logLevel]||2,a=s[t]||2;a<=r&&(console[t]?console[t](`[TestStatusCalculator] ${e}`):console.log(`[TestStatusCalculator] ${e}`))}}const $e=Te;class Ie{constructor(e={}){this.options={logLevel:e.logLevel||"warn",maxLogEntries:e.maxLogEntries||1e3,enableConsoleLogging:!1!==e.enableConsoleLogging,enableLocalStorage:!1!==e.enableLocalStorage,storageKey:e.storageKey||"cucumber-report-errors"},this.errorLog=[],this.warningLog=[],this.infoLog=[],this.loadLogsFromStorage()}logError(e,t={},s=null){const r=this.createLogEntry("error",e,t,s);return this.errorLog.push(r),this.writeToConsole("error",r),this.saveLogsToStorage(),r}logWarning(e,t={}){const s=this.createLogEntry("warning",e,t);return this.warningLog.push(s),this.writeToConsole("warn",s),this.saveLogsToStorage(),s}logInfo(e,t={}){const s=this.createLogEntry("info",e,t);return this.infoLog.push(s),this.writeToConsole("info",s),this.saveLogsToStorage(),s}handleJsonParsingError(e,t,s=null){const r={filename:e,errorType:"json_parsing",dataSize:s?JSON.stringify(s).length:0,timestamp:(new Date).toISOString()},a=this.logError(`JSON parsing failed for ${e}: ${t.message}`,r,t),o=this.attemptJsonRecovery(s,e);return o.success&&this.logInfo(`Successfully recovered data for ${e}`,{filename:e,recoveryMethod:o.method,originalErrors:o.errors}),{logEntry:a,recovery:o,userMessage:this.generateUserFriendlyMessage("json_parsing",e,t)}}handleValidationError(e,t){const s={filename:e,errorType:"validation",errorCount:t.errors?t.errors.length:0,warningCount:t.warnings?t.warnings.length:0,timestamp:(new Date).toISOString()};return t.errors&&t.errors.length>0&&t.errors.forEach(t=>{this.logError(`Validation error in ${e}: ${t.message}`,{...s,location:t.location,errorContext:t.context})}),t.warnings&&t.warnings.length>0&&t.warnings.forEach(t=>{this.logWarning(`Validation warning in ${e}: ${t.message}`,{...s,location:t.location,warningContext:t.context})}),{userMessage:this.generateUserFriendlyMessage("validation",e,t),severity:t.errors&&t.errors.length>0?"error":"warning"}}handleStatusCalculationError(e,t,s=null){const r={scenarioName:e,errorType:"status_calculation",hasSteps:s&&s.steps?s.steps.length:0,hasHooks:(s&&s.before?s.before.length:0)+(s&&s.after?s.after.length:0),timestamp:(new Date).toISOString()},a=this.logError(`Status calculation failed for scenario "${e}": ${t.message}`,r,t),o=this.determineFallbackStatus(s);return{logEntry:a,fallbackStatus:o,userMessage:this.generateUserFriendlyMessage("status_calculation",e,t)}}handleDataInconsistency(e,t,s,r={}){const a={...r,errorType:"data_inconsistency",expected:t,actual:s,difference:s-t,timestamp:(new Date).toISOString()},o=this.logWarning(`Data inconsistency detected: ${e}. Expected: ${t}, Actual: ${s}`,a);return{logEntry:o,userMessage:this.generateUserFriendlyMessage("data_inconsistency",e,{expected:t,actual:s}),severity:Math.abs(s-t)>.1*t?"error":"warning"}}createLogEntry(e,t,s={},r=null){const a={id:this.generateLogId(),level:e,message:t,context:s,timestamp:(new Date).toISOString(),stack:r?r.stack:null,userAgent:"undefined"!==typeof navigator?navigator.userAgent:"Node.js"};return this.trimLogs(),a}generateUserFriendlyMessage(e,t,s){switch(e){case"json_parsing":return`Unable to read test report "${t}". The file may be corrupted or in an unexpected format. Please check the file and try again.`;case"validation":const e=s.errors?s.errors.length:0,r=s.warnings?s.warnings.length:0;return e>0?`Test report "${t}" contains ${e} error(s) that prevent accurate processing. Some results may be missing or incorrect.`:r>0?`Test report "${t}" has ${r} warning(s). Results should be accurate but please review for completeness.`:`Test report "${t}" processed successfully.`;case"status_calculation":return`Unable to determine accurate status for test "${t}". The test result may be displayed as "unknown" - please check the original test execution logs.`;case"data_inconsistency":return`Inconsistent data detected in "${t}". Expected ${s.expected} but found ${s.actual}. Please verify the test results manually.`;default:return`An unexpected error occurred while processing "${t}". Please check the logs for more details.`}}attemptJsonRecovery(e,t){const s={success:!1,method:null,recoveredData:null,errors:[]};if(!e)return s.errors.push("No raw data available for recovery"),s;try{if("string"===typeof e){const t=JSON.parse(e);return s.success=!0,s.method="string_parsing",s.recoveredData=t,s}if("object"===typeof e&&null!==e&&Array.isArray(e))return s.success=!0,s.method="array_validation",s.recoveredData=e,s;s.errors.push("Unable to recover: data is not in expected format")}catch(r){s.errors.push(`Recovery attempt failed: ${r.message}`)}return s}determineFallbackStatus(e){if(!e)return"unknown";if(e.steps&&Array.isArray(e.steps)){const t=e.steps.some(e=>{const t=e.result?e.result.status:e.status;return"failed"===t});if(t)return"failed";const s=e.steps.some(e=>{const t=e.result?e.result.status:e.status;return"passed"===t});if(s)return"passed"}return"unknown"}getErrorSummary(){const e=this.errorLog.slice(-10),t=this.warningLog.slice(-10);return{totalErrors:this.errorLog.length,totalWarnings:this.warningLog.length,totalInfo:this.infoLog.length,recentErrors:e,recentWarnings:t,lastErrorTime:this.errorLog.length>0?this.errorLog[this.errorLog.length-1].timestamp:null,lastWarningTime:this.warningLog.length>0?this.warningLog[this.warningLog.length-1].timestamp:null}}clearLogs(){this.errorLog=[],this.warningLog=[],this.infoLog=[],this.saveLogsToStorage()}exportLogs(){return{errors:this.errorLog,warnings:this.warningLog,info:this.infoLog,exportTime:(new Date).toISOString(),version:"1.0.0"}}generateLogId(){return`log_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}trimLogs(){this.errorLog.length>this.options.maxLogEntries&&(this.errorLog=this.errorLog.slice(-this.options.maxLogEntries)),this.warningLog.length>this.options.maxLogEntries&&(this.warningLog=this.warningLog.slice(-this.options.maxLogEntries)),this.infoLog.length>this.options.maxLogEntries&&(this.infoLog=this.infoLog.slice(-this.options.maxLogEntries))}writeToConsole(e,t){if(!this.options.enableConsoleLogging)return;const s={error:0,warn:1,info:2,debug:3},r=s[this.options.logLevel]||2,a=s[e]||2;if(a<=r){const s=`[CucumberReportViewer] ${t.message}`,r=Object.keys(t.context).length>0?`\nContext: ${JSON.stringify(t.context,null,2)}`:"";console[e]?console[e](s+r):console.log(s+r)}}saveLogsToStorage(){if(this.options.enableLocalStorage&&"undefined"!==typeof localStorage)try{const e={errors:this.errorLog.slice(-100),warnings:this.warningLog.slice(-100),info:this.infoLog.slice(-50),lastSaved:(new Date).toISOString()};localStorage.setItem(this.options.storageKey,JSON.stringify(e))}catch(e){console.warn("Failed to save logs to localStorage:",e.message)}}loadLogsFromStorage(){if(this.options.enableLocalStorage&&"undefined"!==typeof localStorage)try{const e=localStorage.getItem(this.options.storageKey);if(e){const t=JSON.parse(e);this.errorLog=t.errors||[],this.warningLog=t.warnings||[],this.infoLog=t.info||[]}}catch(e){console.warn("Failed to load logs from localStorage:",e.message)}}}const Ae=Ie;class We{constructor(e={}){this.options={tolerancePercentage:e.tolerancePercentage||5,strictMode:e.strictMode||!1,logLevel:e.logLevel||"warn"},this.errorHandler=new Ae({logLevel:this.options.logLevel,enableConsoleLogging:!0}),this.validationHistory=[]}validateTestCounts(e,t=null){const s={isValid:!0,issues:[],summary:{totalTests:e.scenarios||0,passed:e.passed||0,failed:e.failed||0,skipped:e.skipped||0,errors:e.errors||0},calculatedSummary:null,discrepancies:[]};try{const e=s.summary.passed+s.summary.failed+s.summary.skipped+s.summary.errors;if(e!==s.summary.totalTests){const r={type:"count_mismatch",field:"total_scenarios",expected:s.summary.totalTests,calculated:e,difference:e-s.summary.totalTests};s.discrepancies.push(r),s.isValid=!1,this.errorHandler.handleDataInconsistency("Total scenario count mismatch",s.summary.totalTests,e,{reportData:!!t})}if(t&&Array.isArray(t)){s.calculatedSummary=this.calculateSummaryFromRawData(t);const e=["scenarios","passed","failed","skipped"];e.forEach(e=>{const t=s.summary["scenarios"===e?"totalTests":e]||0,r=s.calculatedSummary[e]||0;if(t!==r){const a=Math.max(1,Math.floor(t*this.options.tolerancePercentage/100)),o=Math.abs(t-r);if(o>a){const i={type:"cross_validation_mismatch",field:e,provided:t,calculated:r,difference:r-t,tolerance:a};s.discrepancies.push(i),s.isValid=!1,this.errorHandler.handleDataInconsistency(`${e} count cross-validation mismatch`,t,r,{field:e,tolerance:a,difference:o})}}})}this.recordValidation(s)}catch(r){s.isValid=!1,s.issues.push({type:"validation_error",message:r.message,stack:r.stack}),this.errorHandler.logError("Test count validation failed",{summary:e},r)}return s}crossValidateResults(e,t,s=null){const r={isValid:!0,issues:[],comparisons:[],recommendations:[]};try{const a=this.calculateSummaryFromRawData(t),o=this.extractCountsFromParsedData(e),i=s?this.normalizeExpectedCounts(s):null,n=this.compareCountSets(a,o,"direct_vs_parsed");if(r.comparisons.push(n),i){const e=this.compareCountSets(a,i,"direct_vs_expected"),t=this.compareCountSets(o,i,"parsed_vs_expected");r.comparisons.push(e,t)}r.isValid=r.comparisons.every(e=>e.isConsistent),r.recommendations=this.generateValidationRecommendations(r.comparisons),r.comparisons.forEach(e=>{e.isConsistent||e.discrepancies.forEach(t=>{this.errorHandler.logWarning(`Cross-validation discrepancy: ${e.comparisonType} - ${t.field}`,{comparison:e.comparisonType,discrepancy:t})})})}catch(a){r.isValid=!1,r.issues.push({type:"cross_validation_error",message:a.message}),this.errorHandler.logError("Cross-validation failed",{parsedData:!!e,originalJson:!!t},a)}return r}detectInconsistencies(e,t={}){const s=[];try{if(!e||"object"!==typeof e)return s.push({type:"invalid_data_structure",message:"Data is not a valid object",severity:"error"}),s;const r=["features","scenarios","passed","failed"];r.forEach(t=>{null!==e[t]&&void 0!==e[t]||s.push({type:"missing_critical_field",field:t,message:`Critical field '${t}' is missing`,severity:"error"})});const a=["features","scenarios","steps","passed","failed","skipped","duration"];if(a.forEach(t=>{e[t]&&e[t]<0&&s.push({type:"negative_value",field:t,value:e[t],message:`Field '${t}' has negative value: ${e[t]}`,severity:"error"})}),e.scenarios&&e.features){const t=e.scenarios/e.features;t>1e3&&s.push({type:"unlikely_ratio",message:`Very high scenario-to-feature ratio: ${t.toFixed(2)}`,severity:"warning"})}if(e.duration&&e.scenarios){const t=e.duration/e.scenarios;t>3600&&s.push({type:"unusual_duration",message:`Very high average duration per scenario: ${(t/60).toFixed(2)} minutes`,severity:"warning"})}s.forEach(e=>{"error"===e.severity?this.errorHandler.logError(`Data inconsistency: ${e.message}`,{context:t,inconsistency:e}):this.errorHandler.logWarning(`Data inconsistency: ${e.message}`,{context:t,inconsistency:e})})}catch(r){s.push({type:"detection_error",message:`Failed to detect inconsistencies: ${r.message}`,severity:"error"}),this.errorHandler.logError("Inconsistency detection failed",{context:t},r)}return s}generateIntegrityReport(e,t=null,s=null){const r={timestamp:(new Date).toISOString(),overallStatus:"unknown",summary:{totalIssues:0,criticalIssues:0,warnings:0,recommendations:0},validations:{countValidation:null,crossValidation:null,inconsistencyDetection:null},recommendations:[],details:{}};try{r.validations.countValidation=this.validateTestCounts(e,t),t&&(r.validations.crossValidation=this.crossValidateResults(e,t,s)),r.validations.inconsistencyDetection=this.detectInconsistencies(e);const a=[...r.validations.countValidation.issues||[],...r.validations.crossValidation?.issues||[],...r.validations.inconsistencyDetection];r.summary.totalIssues=a.length,r.summary.criticalIssues=a.filter(e=>"error"===e.severity).length,r.summary.warnings=a.filter(e=>"warning"===e.severity).length,r.summary.criticalIssues>0?r.overallStatus="critical":r.summary.warnings>0?r.overallStatus="warning":r.overallStatus="healthy",r.recommendations=this.generateOverallRecommendations(r),r.summary.recommendations=r.recommendations.length,r.details={validationHistory:this.validationHistory.slice(-5),errorSummary:this.errorHandler.getErrorSummary()}}catch(a){r.overallStatus="error",r.summary.criticalIssues=1,r.validations.error={message:a.message,stack:a.stack},this.errorHandler.logError("Integrity report generation failed",{data:!!e},a)}return r}calculateSummaryFromRawData(e){const t={features:0,scenarios:0,steps:0,passed:0,failed:0,skipped:0,errors:0};return Array.isArray(e)?(e.forEach(e=>{t.features++;const s=e.elements||e.scenarios||[];s.forEach(e=>{if("background"===e.type)return;t.scenarios++;let s="unknown";if(e.steps&&Array.isArray(e.steps)){t.steps+=e.steps.length;const r=e.steps.some(e=>{const t=e.result?e.result.status:e.status;return"failed"===t}),a=e.steps.some(e=>{const t=e.result?e.result.status:e.status;return"passed"===t});s=r?"failed":a?"passed":"skipped"}switch(s){case"passed":t.passed++;break;case"failed":t.failed++;break;case"skipped":t.skipped++;break;default:t.errors++;break}})}),t):t}extractCountsFromParsedData(e){return e&&e._validation?{features:e.features||0,scenarios:e.scenarios||0,steps:e.steps||0,passed:e.passed||0,failed:e.failed||0,skipped:e.skipped||0,errors:e.errors||0}:this.calculateSummaryFromRawData(e)}compareCountSets(e,t,s){const r={comparisonType:s,isConsistent:!0,discrepancies:[],tolerance:this.options.tolerancePercentage},a=["features","scenarios","steps","passed","failed","skipped"];return a.forEach(s=>{const a=e[s]||0,o=t[s]||0;if(a!==o){const e=Math.max(1,Math.floor(Math.max(a,o)*this.options.tolerancePercentage/100)),t=Math.abs(a-o);t>e&&(r.discrepancies.push({field:s,value1:a,value2:o,difference:o-a,tolerance:e}),r.isConsistent=!1)}}),r}normalizeExpectedCounts(e){return{features:e.features||e.totalFeatures||0,scenarios:e.scenarios||e.totalScenarios||0,steps:e.steps||e.totalSteps||0,passed:e.passed||e.totalPassed||0,failed:e.failed||e.totalFailed||0,skipped:e.skipped||e.totalSkipped||0,errors:e.errors||e.totalErrors||0}}generateValidationRecommendations(e){const t=[];return e.forEach(e=>{e.isConsistent||e.discrepancies.forEach(e=>{"scenarios"===e.field&&Math.abs(e.difference)>5?t.push({type:"critical",message:"Significant scenario count discrepancy detected. Verify test execution completeness.",field:e.field}):"failed"===e.field&&e.difference>0&&t.push({type:"warning",message:"More failures detected in parsed data than expected. Check for setup/teardown failures.",field:e.field})})}),t}generateOverallRecommendations(e){const t=[];return e.summary.criticalIssues>0&&t.push({type:"critical",message:"Critical data integrity issues detected. Manual verification recommended before using results."}),e.summary.warnings>5&&t.push({type:"warning",message:"Multiple data quality warnings detected. Consider improving test data consistency."}),e.validations.crossValidation&&!e.validations.crossValidation.isValid&&t.push({type:"info",message:"Cross-validation discrepancies found. Review parsing logic for accuracy improvements."}),t}recordValidation(e){this.validationHistory.push({timestamp:(new Date).toISOString(),isValid:e.isValid,issueCount:e.issues.length,discrepancyCount:e.discrepancies.length}),this.validationHistory.length>20&&(this.validationHistory=this.validationHistory.slice(-20))}}const Pe=We;class ze{constructor(){this.cache=new Map,this.cacheTimeout=3e5,this.baseUrl={NODE_ENV:"production",BASE_URL:"/TestResults/"}.VUE_APP_REPORTS_BASE_URL||"/TestResultsJsons/",this.validator=new De({generatePlaceholders:!0,logLevel:"warn"}),this.statusCalculator=new $e({treatSetupFailuresAsFailed:!0,treatTeardownFailuresAsFailed:!0,logLevel:"warn"}),this.errorHandler=new Ae({logLevel:"warn",enableConsoleLogging:!0,enableLocalStorage:!0}),this.integrityValidator=new Pe({tolerancePercentage:5,logLevel:"warn"})}async loadIndex(){const e="index",t=this.cache.get(e);if(t&&Date.now()-t.timestamp<this.cacheTimeout)return t.data;let s=[],r=[];try{const e=JSON.parse(localStorage.getItem("uploaded-reports-index")||"[]");s=e.map(e=>({...e,features:e.features||0,scenarios:e.scenarios||0,steps:e.steps||0,passed:e.passed||0,failed:e.failed||0,skipped:e.skipped||0,duration:e.duration||0,tags:e.tags||[],size:e.size||0,source:"localStorage"})),console.log(`Loaded ${s.length} reports from localStorage`)}catch(n){console.warn("Failed to load from localStorage:",n)}const a=["/TestResults/TestResultsJsons/index.json","/TestResultsJsons/index.json","./TestResultsJsons/index.json","TestResultsJsons/index.json"];for(const c of a)try{console.log(`Trying to load server index from: ${c}`);const e=await fetch(`${c}?t=${Date.now()}`,{cache:"reload"});if(!e.ok)throw new Error(`Failed to load index: ${e.status} ${e.statusText}`);const t=await e.json();Array.isArray(t)?r=t.map(e=>({...e,features:e.features||0,scenarios:e.scenarios||0,steps:e.steps||0,passed:e.passed||0,failed:e.failed||0,skipped:e.skipped||0,duration:e.duration||0,tags:e.tags||[],size:e.size||0,source:"server"})):t&&t.reports&&(r=t.reports.map(e=>({...e,source:"server"}))),console.log(`Successfully loaded ${r.length} reports from server: ${c}`);break}catch(l){console.warn(`Failed to load from ${c}:`,l.message)}const o=this.mergeReports(s,r),i={reports:o,statistics:this.calculateStatistics(o),version:"1.0.0-merged",sources:{localStorage:s.length,server:r.length,total:o.length}};return this.cache.set(e,{data:i,timestamp:Date.now()}),console.log(`✅ Successfully merged reports: ${s.length} local + ${r.length} server = ${o.length} total`),i}async loadReport(e){const t=`report-${e}`,s=this.cache.get(t);if(s&&Date.now()-s.timestamp<this.cacheTimeout)return s.data;try{const s=await fetch(`${this.baseUrl}${e}.json?t=${Date.now()}`);if(!s.ok)throw new Error(`Failed to load report ${e}: ${s.status}`);let i,n,l;try{i=await s.json()}catch(r){const t=this.errorHandler.handleJsonParsingError(`${e}.json`,r);throw new Error(t.userMessage)}try{n=this.validator.validateReport(i,`${e}.json`)}catch(a){this.errorHandler.logError(`Validation failed for ${e}`,{reportId:e},a),n={isValid:!1,errors:[{message:a.message}],warnings:[],sanitizedData:i}}if(n.errors&&n.errors.length>0&&this.errorHandler.handleValidationError(`${e}.json`,n),n.isValid||n.sanitizedData){l=n.sanitizedData||i,l._validation={isValid:n.isValid,errors:n.errors,warnings:n.warnings,processedEntryCount:n.processedEntryCount,originalEntryCount:n.originalEntryCount};try{l=this.enhanceReportWithAccurateStatus(l);const t=this.integrityValidator.generateIntegrityReport(this.extractAccurateTestCounts(l),i);l._integrity=t,"critical"===t.overallStatus&&this.errorHandler.logError(`Critical data integrity issues in ${e}`,{reportId:e,criticalIssues:t.summary.criticalIssues})}catch(o){this.errorHandler.logError(`Status calculation failed for ${e}`,{reportId:e},o)}}else this.errorHandler.logWarning(`Report ${e} failed validation, using raw data with warnings`,{reportId:e}),l=i,l._validation={isValid:!1,errors:n.errors,warnings:["Report failed validation - results may be inaccurate"],processedEntryCount:0,originalEntryCount:n.originalEntryCount};return this.cache.set(t,{data:l,timestamp:Date.now()}),l}catch(i){throw this.errorHandler.logError(`Failed to load report ${e}`,{reportId:e},i),i}}async loadStatistics(){try{const e=await fetch(`${this.baseUrl}stats.json?t=${Date.now()}`);return e.ok?await e.json():null}catch(e){return console.warn("Statistics not available:",e),null}}searchReports(e,t){if(!t||!e)return e;const s=t.toLowerCase();return e.filter(e=>e.name.toLowerCase().includes(s)||e.id.toLowerCase().includes(s)||e.tags&&e.tags.some(e=>e.toLowerCase().includes(s))||e.environment&&e.environment.toLowerCase().includes(s)||e.tool&&e.tool.toLowerCase().includes(s))}filterReports(e,t){return e?e.filter(e=>{if(t.status&&t.status.length>0){const s=t.status.some(t=>{switch(t){case"passed":return 0===e.failed&&e.passed>0;case"failed":return e.failed>0;case"mixed":return e.passed>0&&e.failed>0;default:return!1}});if(!s)return!1}if(t.dateFrom||t.dateTo){const s=new Date(e.date);if(t.dateFrom&&s<new Date(t.dateFrom))return!1;if(t.dateTo&&s>new Date(t.dateTo))return!1}if(t.tags&&t.tags.length>0){const s=t.tags.some(t=>e.tags&&e.tags.includes(t));if(!s)return!1}return!(t.environment&&t.environment.length>0&&!t.environment.includes(e.environment))&&(!(void 0!==t.minDuration&&e.duration<t.minDuration)&&!(void 0!==t.maxDuration&&e.duration>t.maxDuration))}):[]}sortReports(e,t,s="desc"){if(!e)return[];const r=[...e].sort((e,r)=>{let a,o;switch(t){case"date":a=new Date(e.date),o=new Date(r.date);break;case"name":a=e.name.toLowerCase(),o=r.name.toLowerCase();break;case"duration":a=e.duration||0,o=r.duration||0;break;case"scenarios":a=e.scenarios||0,o=r.scenarios||0;break;case"passRate":a=e.steps>0?e.passed/e.steps:0,o=r.steps>0?r.passed/r.steps:0;break;default:return 0}return a<o?"asc"===s?-1:1:a>o?"asc"===s?1:-1:0});return r}getReportTrends(e,t=30){if(!e)return[];const s=new Date;s.setDate(s.getDate()-t);const r=e.filter(e=>new Date(e.date)>=s),a={};return r.forEach(e=>{const t=new Date(e.date).toISOString().split("T")[0];a[t]||(a[t]={date:t,reports:0,totalScenarios:0,totalPassed:0,totalFailed:0,totalDuration:0});const s=a[t];s.reports++,s.totalScenarios+=e.scenarios||0,s.totalPassed+=e.passed||0,s.totalFailed+=e.failed||0,s.totalDuration+=e.duration||0}),Object.values(a).sort((e,t)=>new Date(e.date)-new Date(t.date))}mergeReports(e,t){const s=[...e],r=new Set(e.map(e=>e.id));return t.forEach(e=>{r.has(e.id)||s.push(e)}),s.sort((e,t)=>new Date(t.date)-new Date(e.date))}calculateStatistics(e){if(!e||0===e.length)return{totalReports:0,totalScenarios:0,totalSteps:0,totalPassed:0,totalFailed:0,totalSkipped:0,totalErrors:0,passRate:"0.00",failRate:"0.00",skipRate:"0.00",errorRate:"0.00",validationIssues:0};const t=e.reduce((e,t)=>({scenarios:e.scenarios+(t.scenarios||0),steps:e.steps+(t.steps||0),passed:e.passed+(t.passed||0),failed:e.failed+(t.failed||0),skipped:e.skipped+(t.skipped||0),errors:e.errors+(t.errors||0),validationIssues:e.validationIssues+(t.validationIssues||0)}),{scenarios:0,steps:0,passed:0,failed:0,skipped:0,errors:0,validationIssues:0}),s=t.scenarios||1,r=(t.passed/s*100).toFixed(2),a=(t.failed/s*100).toFixed(2),o=(t.skipped/s*100).toFixed(2),i=(t.errors/s*100).toFixed(2);return{totalReports:e.length,totalScenarios:t.scenarios,totalSteps:t.steps,totalPassed:t.passed,totalFailed:t.failed,totalSkipped:t.skipped,totalErrors:t.errors,passRate:r,failRate:a,skipRate:o,errorRate:i,validationIssues:t.validationIssues}}enhanceReportWithAccurateStatus(e){if(!Array.isArray(e))return e;const t=e.map(e=>{const t={...e},s=this.statusCalculator.calculateFeatureStatus(e);return t._calculatedStatus=s,e.elements&&Array.isArray(e.elements)&&(t.elements=e.elements.map(e=>{const t={...e},s=this.statusCalculator.calculateScenarioStatus(e);return t._calculatedStatus=s,t})),t});return t}extractAccurateTestCounts(e){const t={features:0,scenarios:0,steps:0,passed:0,failed:0,skipped:0,errors:0};return Array.isArray(e)?(e.forEach(e=>{t.features++,e.elements&&Array.isArray(e.elements)&&e.elements.forEach(e=>{if("background"===e.type)return;t.scenarios++;let s="unknown";if(e._calculatedStatus)s=e._calculatedStatus.status;else{const t=this.statusCalculator.calculateScenarioStatus(e);s=t.status}switch(s){case"passed":t.passed++;break;case"failed":t.failed++;break;case"skipped":t.skipped++;break;default:t.errors++;break}e.steps&&Array.isArray(e.steps)&&(t.steps+=e.steps.length)})}),t):t}validateReportConsistency(e,t=null){const s={isConsistent:!0,issues:[],actualCounts:null,expectedCounts:t};try{s.actualCounts=this.extractAccurateTestCounts(e),t&&Object.keys(t).forEach(e=>{s.actualCounts[e]!==t[e]&&(s.isConsistent=!1,s.issues.push({type:"count_mismatch",field:e,expected:t[e],actual:s.actualCounts[e]}))});const r=s.actualCounts.passed+s.actualCounts.failed+s.actualCounts.skipped+s.actualCounts.errors;r!==s.actualCounts.scenarios&&(s.isConsistent=!1,s.issues.push({type:"internal_inconsistency",message:`Status counts (${r}) don't match scenario count (${s.actualCounts.scenarios})`}))}catch(r){s.isConsistent=!1,s.issues.push({type:"validation_error",message:r.message})}return s}clearCache(){this.cache.clear()}getErrorSummary(){return this.errorHandler.getErrorSummary()}clearErrorLogs(){this.errorHandler.clearLogs()}exportErrorLogs(){return this.errorHandler.exportLogs()}getIntegrityReport(e,t=null){const s=this.extractAccurateTestCounts(e);return this.integrityValidator.generateIntegrityReport(s,t)}validateReportConsistency(e,t=null){const s=this.extractAccurateTestCounts(e);return this.integrityValidator.validateTestCounts(s,e)}getCacheStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys()),totalMemory:JSON.stringify(Array.from(this.cache.values())).length}}}const Me=new ze;class Ne{constructor(){this.baseURL="",this.isLocalhost="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname}async deleteReport(e,t={}){const{confirm:s=!0,soft:r=null,showFeedback:a=!0}=t;try{const t=null!==r?r:!this.isLocalhost;if(s&&!await this.confirmDeletion(e,t))return{success:!1,cancelled:!0,message:"Deletion cancelled by user"};let i;a&&this.showLoadingState(e,!0);try{const s=this.getFilenameFromId(e),r=await fetch(`${this.baseURL}/api/reports/${s}?soft=${t}`,{method:"DELETE",headers:{"Content-Type":"application/json"},signal:AbortSignal.timeout(1e4)});if(!r.ok)throw new Error(`Server responded with ${r.status}: ${r.statusText}`);if(i=await r.json(),!i.success)throw new Error(i.error||"Server deletion failed")}catch(o){console.warn("Server deletion failed, falling back to local deletion:",o.message),i=await this.performLocalDeletion(e,t)}if(!i.success)throw new Error(i.error||"Deletion failed");return await this.updateLocalState(e,i.deletionType||(t?"soft":"hard")),a&&this.showSuccessMessage(e,i.deletionType||(t?"soft":"hard"),i.localOnly||!1),this.emitDeletionEvent(e,i),i}catch(i){throw console.error("Deletion error:",i),a&&this.showErrorMessage(e,i.message),i}finally{a&&this.showLoadingState(e,!1)}}async performLocalDeletion(e,t){try{if(console.log(`Performing local deletion for ${e} (soft: ${t})`),t){const t={reportId:e,deletedAt:(new Date).toISOString(),deletionType:"soft",environment:this.isLocalhost?"localhost":"production",localOnly:!0},s="deleted-reports",r=localStorage.getItem(s),a=r?JSON.parse(r):[];return a.push(t),localStorage.setItem(s,JSON.stringify(a)),{success:!0,deletionType:"soft",localOnly:!0,message:"Report hidden locally (server not available)"}}return{success:!0,deletionType:"hard",localOnly:!0,message:"Report removed from local view (file remains until server processes deletion)"}}catch(s){throw console.error("Local deletion failed:",s),new Error(`Local deletion failed: ${s.message}`)}}async confirmDeletion(e,t){return new Promise(s=>{const r=t?"This will hide the report from the collection. The file will remain until next deployment.":"This will permanently delete the report file from the server.",a=t?"Hide Report":"Delete Report",o=this.createConfirmationDialog({title:a,message:r,reportId:e,confirmText:t?"Hide":"Delete",confirmColor:"error",onConfirm:()=>s(!0),onCancel:()=>s(!1)});document.body.appendChild(o)})}createConfirmationDialog({title:e,message:t,reportId:s,confirmText:r,confirmColor:a,onConfirm:o,onCancel:i}){const n=document.createElement("div");n.className="deletion-confirmation-overlay",n.style.cssText="\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.5);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      z-index: 9999;\n    ";const l=document.createElement("div");l.className="deletion-confirmation-dialog",l.style.cssText="\n      background: white;\n      border-radius: 8px;\n      padding: 24px;\n      max-width: 400px;\n      width: 90%;\n      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\n    ",l.innerHTML=`\n      <h3 style="margin: 0 0 16px 0; color: #333;">${e}</h3>\n      <p style="margin: 0 0 24px 0; color: #666; line-height: 1.5;">${t}</p>\n      <div style="display: flex; gap: 12px; justify-content: flex-end;">\n        <button class="cancel-btn" style="\n          padding: 8px 16px;\n          border: 1px solid #ddd;\n          background: white;\n          border-radius: 4px;\n          cursor: pointer;\n        ">Cancel</button>\n        <button class="confirm-btn" style="\n          padding: 8px 16px;\n          border: none;\n          background: #f44336;\n          color: white;\n          border-radius: 4px;\n          cursor: pointer;\n        ">${r}</button>\n      </div>\n    `;const c=l.querySelector(".cancel-btn"),d=l.querySelector(".confirm-btn"),u=()=>{document.body.removeChild(n)};c.addEventListener("click",()=>{u(),i()}),d.addEventListener("click",()=>{u(),o()}),n.addEventListener("click",e=>{e.target===n&&(u(),i())});const p=e=>{"Escape"===e.key&&(u(),i(),document.removeEventListener("keydown",p))};return document.addEventListener("keydown",p),n.appendChild(l),n}async updateLocalState(e,t){try{const s="cucumber-reports",r=localStorage.getItem(s);if(r){const t=JSON.parse(r),a=t.filter(t=>t.id!==e);localStorage.setItem(s,JSON.stringify(a))}const a={reportId:e,deletedAt:(new Date).toISOString(),deletionType:t,environment:this.isLocalhost?"localhost":"production"},o="deleted-reports",i=localStorage.getItem(o),n=i?JSON.parse(i):[];n.push(a),localStorage.setItem(o,JSON.stringify(n))}catch(s){console.error("Error updating local state:",s)}}showLoadingState(e,t){const s=document.querySelector(`[data-report-id="${e}"] .delete-btn`);s&&(s.disabled=t,s.innerHTML=t?'<i class="mdi mdi-loading mdi-spin"></i>':'<i class="mdi mdi-delete"></i>')}showSuccessMessage(e,t,s=!1){let r;r=s?"soft"===t?"Report hidden locally (server offline)":"Report removed from view (server offline)":"soft"===t?"Report hidden from collection":"Report deleted successfully",this.showNotification(r,"success")}showErrorMessage(e,t){let s=t;t.includes("Failed to fetch")||t.includes("NetworkError")?s="Unable to connect to server. Report removed from local view only.":t.includes("timeout")||t.includes("AbortError")?s="Server request timed out. Report may have been deleted.":t.includes("404")?s="Report not found on server (may already be deleted).":t.includes("500")&&(s="Server error occurred during deletion."),this.showNotification(`Deletion issue: ${s}`,"warning")}showNotification(e,t="info"){const s=document.createElement("div");s.className=`deletion-notification deletion-notification-${t}`,s.style.cssText=`\n      position: fixed;\n      top: 20px;\n      right: 20px;\n      padding: 12px 20px;\n      border-radius: 4px;\n      color: white;\n      z-index: 10000;\n      max-width: 300px;\n      background: ${"success"===t?"#4caf50":"error"===t?"#f44336":"#2196f3"};\n    `,s.textContent=e,document.body.appendChild(s),setTimeout(()=>{document.body.contains(s)&&document.body.removeChild(s)},3e3)}emitDeletionEvent(e,t){const s=new CustomEvent("reportDeleted",{detail:{reportId:e,result:t,timestamp:(new Date).toISOString()}});window.dispatchEvent(s)}getFilenameFromId(e){return e.endsWith(".json")?e:`${e}.json`}async testServerConnection(){try{const e=await fetch(`${this.baseURL}/api/health`,{method:"GET",signal:AbortSignal.timeout(5e3)});return e.ok}catch(e){return console.warn("Server connectivity test failed:",e.message),!1}}async restoreReport(e,t={}){const{showFeedback:s=!0}=t;try{s&&this.showLoadingState(e,!0);const t=this.getFilenameFromId(e),r=await fetch(`${this.baseURL}/api/reports/${t}/restore`,{method:"POST",headers:{"Content-Type":"application/json"}}),a=await r.json();if(!a.success)throw new Error(a.message||"Restoration failed");{await this.removeFromLocalDeleted(e),s&&this.showNotification("Report restored successfully","success");const t=new CustomEvent("reportRestored",{detail:{reportId:e,result:a}});window.dispatchEvent(t)}return a}catch(r){throw console.error("Restoration error:",r),s&&this.showErrorMessage(e,r.message),r}finally{s&&this.showLoadingState(e,!1)}}async removeFromLocalDeleted(e){try{const t="deleted-reports",s=localStorage.getItem(t);if(s){const r=JSON.parse(s),a=r.filter(t=>t.reportId!==e);localStorage.setItem(t,JSON.stringify(a))}}catch(t){console.error("Error removing from local deleted:",t)}}async getSyncStatus(){try{const e=await fetch(`${this.baseURL}/api/sync/status`),t=await e.json();if(t.success)return t.syncStatus;throw new Error(t.error||"Failed to get sync status")}catch(e){throw console.error("Error getting sync status:",e),e}}async getDeletedReports(){try{const e=await fetch(`${this.baseURL}/api/reports/deleted`),t=await e.json();if(t.success)return t.deletedReports;throw new Error(t.error||"Failed to get deleted reports")}catch(e){throw console.error("Error getting deleted reports:",e),e}}async deleteMultipleReports(e,t={}){const{batchSize:s=5,showProgress:r=!0}=t,a=[],o=[];r&&this.showBulkProgress(0,e.length);for(let l=0;l<e.length;l+=s){const t=e.slice(l,l+s),i=t.map(async e=>{try{const t=await this.deleteReport(e,{confirm:!1,showFeedback:!1});return a.push({reportId:e,result:t}),t}catch(t){return o.push({reportId:e,error:t.message}),{success:!1,error:t.message}}});await Promise.all(i),r&&this.showBulkProgress(Math.min(l+s,e.length),e.length),l+s<e.length&&await new Promise(e=>setTimeout(e,100))}r&&this.hideBulkProgress();const i=a.filter(e=>e.result.success).length,n=`Bulk deletion completed: ${i}/${e.length} successful`;return this.showNotification(n,o.length>0?"warning":"success"),{success:!0,results:a,errors:o,summary:{total:e.length,successful:i,failed:o.length}}}showBulkProgress(e,t){let s=document.getElementById("bulk-deletion-progress");s||(s=document.createElement("div"),s.id="bulk-deletion-progress",s.style.cssText="\n        position: fixed;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        background: white;\n        padding: 20px;\n        border-radius: 8px;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\n        z-index: 10000;\n        min-width: 300px;\n        text-align: center;\n      ",document.body.appendChild(s));const r=Math.round(e/t*100);s.innerHTML=`\n      <h4 style="margin: 0 0 16px 0;">Deleting Reports</h4>\n      <div style="background: #f0f0f0; border-radius: 4px; overflow: hidden; margin-bottom: 12px;">\n        <div style="\n          background: #2196f3;\n          height: 8px;\n          width: ${r}%;\n          transition: width 0.3s ease;\n        "></div>\n      </div>\n      <p style="margin: 0; color: #666;">${e} of ${t} completed (${r}%)</p>\n    `}hideBulkProgress(){const e=document.getElementById("bulk-deletion-progress");e&&document.body.removeChild(e)}}const Ve=Ne,Oe={class:"text-body-1 mb-4"},Ue={class:"d-flex align-center"},He={class:"text-body-2"},je={key:1,class:"text-body-2 text-medium-emphasis"};function Xe(e,t,s,i,n,l){const c=(0,a.g2)("v-icon"),d=(0,a.g2)("v-card-title"),u=(0,a.g2)("v-alert"),p=(0,a.g2)("v-card-text"),h=(0,a.g2)("v-spacer"),m=(0,a.g2)("v-btn"),g=(0,a.g2)("v-card-actions"),f=(0,a.g2)("v-card"),y=(0,a.g2)("v-dialog");return(0,a.uX)(),(0,a.Wv)(y,{modelValue:l.dialog,"onUpdate:modelValue":t[0]||(t[0]=e=>l.dialog=e),"max-width":"500",persistent:"",onKeydown:(0,r.jR)(l.cancel,["esc"])},{default:(0,a.k6)(()=>[(0,a.bF)(f,null,{default:(0,a.k6)(()=>[(0,a.bF)(d,{class:"text-h5 d-flex align-center"},{default:(0,a.k6)(()=>[(0,a.bF)(c,{color:l.iconColor,class:"mr-3",size:"28"},{default:(0,a.k6)(()=>[(0,a.eW)((0,o.v_)(s.icon),1)]),_:1},8,["color"]),(0,a.eW)(" "+(0,o.v_)(s.title),1)]),_:1}),(0,a.bF)(p,{class:"pb-2"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",Oe,(0,o.v_)(s.message),1),s.showEnvironmentInfo?((0,a.uX)(),(0,a.Wv)(u,{key:0,color:l.environmentColor,variant:"tonal",density:"compact",class:"mb-3"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",Ue,[(0,a.bF)(c,{class:"mr-2",size:"20"},{default:(0,a.k6)(()=>[(0,a.eW)((0,o.v_)(l.environmentIcon),1)]),_:1}),(0,a.Lk)("span",He,(0,o.v_)(l.environmentMessage),1)])]),_:1},8,["color"])):(0,a.Q3)("",!0),s.details?((0,a.uX)(),(0,a.CE)("div",je,(0,o.v_)(s.details),1)):(0,a.Q3)("",!0)]),_:1}),(0,a.bF)(g,{class:"px-6 pb-4"},{default:(0,a.k6)(()=>[(0,a.bF)(h),(0,a.bF)(m,{variant:"text",onClick:l.cancel,disabled:s.loading},{default:(0,a.k6)(()=>[(0,a.eW)((0,o.v_)(s.cancelText),1)]),_:1},8,["onClick","disabled"]),(0,a.bF)(m,{color:s.confirmColor,variant:"elevated",onClick:l.confirm,loading:s.loading,disabled:s.loading},{default:(0,a.k6)(()=>[(0,a.eW)((0,o.v_)(s.confirmText),1)]),_:1},8,["color","onClick","loading","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue","onKeydown"])}const Be={name:"ConfirmationDialog",props:{modelValue:{type:Boolean,default:!1},title:{type:String,default:"Confirm Action"},message:{type:String,required:!0},details:{type:String,default:null},confirmText:{type:String,default:"Confirm"},cancelText:{type:String,default:"Cancel"},confirmColor:{type:String,default:"primary"},icon:{type:String,default:"mdi-help-circle"},type:{type:String,default:"default",validator:e=>["default","delete","warning","info","success"].includes(e)},loading:{type:Boolean,default:!1},showEnvironmentInfo:{type:Boolean,default:!1},environment:{type:String,default:"localhost"}},emits:["update:modelValue","confirm","cancel"],computed:{dialog:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},iconColor(){switch(this.type){case"delete":return"error";case"warning":return"warning";case"info":return"info";case"success":return"success";default:return"primary"}},computedIcon(){if("mdi-help-circle"!==this.icon)return this.icon;switch(this.type){case"delete":return"mdi-delete-alert";case"warning":return"mdi-alert";case"info":return"mdi-information";case"success":return"mdi-check-circle";default:return"mdi-help-circle"}},environmentColor(){return"localhost"===this.environment?"info":"warning"},environmentIcon(){return"localhost"===this.environment?"mdi-laptop":"mdi-cloud"},environmentMessage(){return"localhost"===this.environment?"Running in local development - files will be permanently deleted":"Running on GitHub Pages - files will be hidden until next deployment"}},methods:{confirm(){this.$emit("confirm")},cancel(){this.$emit("cancel"),this.dialog=!1}},mounted(){this.dialog&&this.$nextTick(()=>{const e=this.$el.querySelector(".v-btn:last-child");e&&e.focus()})}},Je=(0,c.A)(Be,[["render",Xe],["__scopeId","data-v-3f881360"]]),Qe=Je,Ge={name:"ReportsCollection",components:{ConfirmationDialog:Qe},data(){return{reportsCollection:[],reportsCollectionError:"",statistics:null,loading:!1,showFilters:!1,searchQuery:"",statusFilter:null,sortBy:"date",deletionService:new Ve,statusOptions:[{title:"All Passed",value:"passed"},{title:"Has Failures",value:"failed"},{title:"Mixed Results",value:"mixed"}],sortOptions:[{title:"Date (Newest)",value:"date"},{title:"Name",value:"name"},{title:"Duration",value:"duration"},{title:"Scenarios",value:"scenarios"},{title:"Pass Rate",value:"passRate"}],syncStatusFilter:null,syncStatusOptions:[{title:"Synced",value:"synced"},{title:"Local Only",value:"local-only"},{title:"Published Only",value:"published-only"},{title:"Deleted",value:"deleted"},{title:"Unknown",value:"unknown"}],confirmationDialog:{show:!1,title:"",message:"",details:"",type:"default",confirmText:"Confirm",confirmColor:"primary",showEnvironmentInfo:!1,environment:"localhost",onConfirm:null,onCancel:null},snackbar:{show:!1,message:"",color:"info",timeout:3e3}}},mounted(){this.fetchReports(),window.addEventListener("reportDeleted",this.handleReportDeleted),window.addEventListener("reportRestored",this.handleReportRestored)},beforeUnmount(){window.removeEventListener("reportDeleted",this.handleReportDeleted),window.removeEventListener("reportRestored",this.handleReportRestored)},computed:{filteredReports(){let e=[...this.reportsCollection];return this.searchQuery&&(e=Me.searchReports(e,this.searchQuery)),this.statusFilter&&(e=Me.filterReports(e,{status:[this.statusFilter]})),this.syncStatusFilter&&(e=e.filter(e=>this.getReportSyncStatus(e)===this.syncStatusFilter)),e=Me.sortReports(e,this.sortBy),e}},methods:{async fetchReports(){this.loading=!0,this.reportsCollectionError="";try{const e=await Me.loadIndex();e.reports?(this.reportsCollection=e.reports,this.statistics=e.statistics):Array.isArray(e)&&(this.reportsCollection=e),this.statistics||(this.statistics=await Me.loadStatistics())}catch(e){this.reportsCollectionError=e.message||"Failed to load reports collection.";try{const e=JSON.parse(localStorage.getItem("uploaded-reports-index")||"[]");e.length>0&&(this.reportsCollection=e)}catch(t){console.error("Failed to load from localStorage:",t)}}finally{this.loading=!1}},async refreshReports(){Me.clearCache(),await this.fetchReports()},navigateToReport(e){this.$router.push({name:"Report",params:{id:e.id},query:{t:Date.now()}})},async deleteReport(e){try{const t=await this.showDeleteConfirmation(e);if(!t)return;this.setReportLoading(e.id,!0);const s=await this.deletionService.deleteReport(e.id,{confirm:!1,showFeedback:!1});if(s.success&&!s.cancelled){this.reportsCollection=this.reportsCollection.filter(t=>t.id!==e.id);let t=JSON.parse(localStorage.getItem("uploaded-reports-index")||"[]");t=t.filter(t=>t.id!==e.id),localStorage.setItem("uploaded-reports-index",JSON.stringify(t)),localStorage.removeItem("uploaded-report-"+e.id),this.showSuccessMessage("soft"===s.deletionType?"Report hidden from collection":"Report deleted successfully"),this.$emit("report-deleted",{report:e,result:s,deletionType:s.deletionType}),console.log(`✅ Report ${e.id} deleted successfully (${s.deletionType})`)}}catch(t){console.error("Failed to delete report:",t),this.showErrorMessage(`Failed to delete report: ${t.message}`)}finally{this.setReportLoading(e.id,!1)}},async showDeleteConfirmation(e){return new Promise(t=>{const s="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname;this.confirmationDialog={show:!0,title:s?"Delete Report":"Hide Report",message:s?"This will permanently delete the report file from the server.":"This will hide the report from the collection. The file will remain until next deployment.",details:`Report: ${e.name||e.id}`,type:"delete",confirmText:s?"Delete":"Hide",confirmColor:"error",showEnvironmentInfo:!0,environment:s?"localhost":"production",onConfirm:()=>{this.confirmationDialog.show=!1,t(!0)},onCancel:()=>{this.confirmationDialog.show=!1,t(!1)}}})},setReportLoading(e,t){const s=this.reportsCollection.findIndex(t=>t.id===e);-1!==s&&(this.reportsCollection[s]={...this.reportsCollection[s],deleting:t})},showSuccessMessage(e){this.snackbar={show:!0,message:e,color:"success",timeout:3e3}},showErrorMessage(e){this.snackbar={show:!0,message:e,color:"error",timeout:5e3}},handleReportDeleted(e){const{reportId:t,result:s}=e.detail;this.reportsCollection=this.reportsCollection.filter(e=>e.id!==t),this.showSuccessMessage("soft"===s.deletionType?"Report hidden from collection":"Report deleted successfully"),console.log(`📢 Received deletion event for report: ${t}`)},handleReportRestored(e){const{reportId:t}=e.detail;this.refreshReports(),this.showSuccessMessage("Report restored successfully"),console.log(`📢 Received restoration event for report: ${t}`)},getReportSyncStatus(e){const t=null!==localStorage.getItem("uploaded-report-"+e.id),s=this.isPublished(e),r=this.isReportDeleted(e);return r?"deleted":t&&s?"synced":t&&!s?"local-only":!t&&s?"published-only":"unknown"},getSyncStatusColor(e){const t=this.getReportSyncStatus(e);switch(t){case"synced":return"success";case"local-only":return"info";case"published-only":return"warning";case"deleted":return"error";case"unknown":return"grey";default:return"grey"}},getSyncStatusIcon(e){const t=this.getReportSyncStatus(e);switch(t){case"synced":return"mdi-check-circle";case"local-only":return"mdi-laptop";case"published-only":return"mdi-cloud";case"deleted":return"mdi-delete";case"unknown":return"mdi-help-circle";default:return"mdi-help-circle"}},getSyncStatusLabel(e){const t=this.getReportSyncStatus(e);switch(t){case"synced":return"Synced";case"local-only":return"Local Only";case"published-only":return"Published";case"deleted":return"Deleted";case"unknown":return"Unknown";default:return"Unknown"}},isReportDeleted(e){try{const t=JSON.parse(localStorage.getItem("deleted-reports")||"[]");return t.some(t=>t.reportId===e.id)}catch(t){return!1}},getStatusIcon(e){return e.steps&&0!==e.steps?e.failed>0?"mdi-close-circle":e.passed>0?"mdi-check-circle":"mdi-pause-circle":"mdi-help-circle"},getStatusColor(e){return e.steps&&0!==e.steps?e.failed>0?"error":e.passed>0?"success":"warning":"grey"},getProgressColor(e){if(!e.steps||0===e.steps)return"grey";const t=e.passed/e.steps*100;return t>=90?"success":t>=70?"warning":"error"},getPassPercentage(e){return e.steps&&0!==e.steps?e.passed/e.steps*100:0},getPassRateClass(e){const t=this.getPassPercentage(e);return t>=90?"pass-rate-excellent":t>=70?"pass-rate-good":t>=50?"pass-rate-warning":"pass-rate-poor"},formatReportTitle(e){if(!e)return"Untitled Report";let t=e.replace(/^Admin\s+Client\s+Settings\s+Page\s*\|\|\s*/i,"").replace(/^(Admin\s+|Administration\s+)/i,"").replace(/\s*\|\|\s*Test\s+Scenarios?$/i,"").replace(/\s*Test\s+Scenarios?$/i,"").replace(/\s*Page$/i,"").replace(/\s+/g," ").trim();if(t.length<3){const s=e.split("||")[0]?.trim();t=s&&s.length>3?s.replace(/^(Admin\s+|Administration\s+)/i,"").replace(/\s*Page$/i,"").trim():e.replace(/\|\|/g,"•").trim()}if(t.length>35){const e=t.split(" ");let s="";for(const t of e){if((s+t).length>32)break;s+=(s?" ":"")+t}t=s+(s.length<t.length?"...":"")}return this.toTitleCase(t)||"Test Report"},formatReportId(e){if(!e)return"";const t=e.split("-"),s=t.slice(-1)[0];if(s&&s.includes("T"))try{const e=new Date(s.replace(/(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2})/,"$1-$2-$3T$4:$5:$6"));return`#${e.getMonth()+1}${e.getDate()}${e.getHours()}${e.getMinutes()}`}catch(r){}return`#${e.slice(-8)}`},showReportId(e){return e.name&&(e.name.length>45||this.reportsCollection.filter(t=>this.formatReportTitle(t.name)===this.formatReportTitle(e.name)).length>1)},toTitleCase(e){return e.replace(/\w\S*/g,t=>{const s=["and","or","the","a","an","in","on","at","to","for","of","with","by"],r=t.toLowerCase();return s.includes(r)&&0!==e.indexOf(t)?r:t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})},formatDate(e){try{const t=new Date(e),s=new Date,r=s-t,a=Math.floor(r/6e4),o=Math.floor(r/36e5),i=Math.floor(r/864e5);return a<1?"Just now":a<60?`${a} min ago`:o<24?`${o} hr ago`:1===i?"1 day ago":i<30?`${i} days ago`:t.toLocaleDateString()}catch(t){return"Unknown date"}},extractJsonFilename(e){if(!e)return"";const t=e.split("-"),s=t[t.length-1];return s?s.slice(-4).toUpperCase():""},formatDuration(e){if(!e||0===e)return"0s";if(e<60)return`${e.toFixed(1)}s`;if(e<3600){const t=Math.floor(e/60),s=Math.floor(e%60);return`${t}m ${s}s`}{const t=Math.floor(e/3600),s=Math.floor(e%3600/60);return`${t}h ${s}m`}},isPublished(e){try{const t=JSON.parse(localStorage.getItem("published-reports-index")||"[]");return t.some(t=>t.id===e.id)}catch(t){return console.error("Error checking published status:",t),!1}},async togglePublishStatus(e){try{const t=JSON.parse(localStorage.getItem("published-reports-index")||"[]"),s=this.isPublished(e);if(s){const s=t.filter(t=>t.id!==e.id);localStorage.setItem("published-reports-index",JSON.stringify(s)),this.$emit("report-unpublished",e),console.log(`Report ${e.id} unpublished from GitHub Pages`)}else{const s={...e,publishedAt:(new Date).toISOString(),publishStatus:"published"};t.unshift(s),localStorage.setItem("published-reports-index",JSON.stringify(t)),this.$emit("report-published",e),console.log(`Report ${e.id} published to GitHub Pages`)}const r=!s;await this.updateGitHubPagesIndex(r),await this.saveReportForGitHubPages(e),this.$forceUpdate()}catch(t){console.error("Error toggling publish status:",t),alert("Failed to update publish status. Please try again.")}},async updateGitHubPagesIndex(e=!1){try{const t=JSON.parse(localStorage.getItem("published-reports-index")||"[]"),s={reports:t.map(e=>({id:e.id,name:e.name,date:e.date,features:e.features||0,scenarios:e.scenarios||0,steps:e.steps||0,passed:e.passed||0,failed:e.failed||0,skipped:e.skipped||0,duration:e.duration||0,tags:e.tags||[],size:e.size||0,publishedAt:e.publishedAt,source:"published"})),statistics:this.calculatePublishedStatistics(t),version:"1.0.0-published",lastUpdated:(new Date).toISOString()};localStorage.setItem("github-pages-index",JSON.stringify(s)),e&&t.length>0?(console.log("🔽 Triggering GitHub Pages files download:",t.length,"reports"),this.downloadGitHubPagesFiles(s,t)):console.log("📋 GitHub Pages index updated without download. shouldDownload:",e,"publishedCount:",t.length),console.log("GitHub Pages index updated with",t.length,"published reports")}catch(t){console.error("Error updating GitHub Pages index:",t)}},downloadGitHubPagesFiles(e,t){try{if(0===t.length)return void console.log("No published reports to download");const s=new Blob([JSON.stringify(e,null,2)],{type:"application/json"});this.downloadFile(s,"index.json"),this.showSuccessMessage(`📁 Downloaded index.json with ${t.length} reports. Upload this file to your GitHub Pages TestResultsJsons/ folder to publish the reports.`),t.forEach(e=>{const t=localStorage.getItem("uploaded-report-"+e.id);if(t){const s=new Blob([t],{type:"application/json"});this.downloadFile(s,`${e.id}.json`)}})}catch(s){console.error("Error creating GitHub Pages files:",s)}},downloadFile(e,t){const s=URL.createObjectURL(e),r=document.createElement("a");r.href=s,r.download=t,r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(s)},async saveReportForGitHubPages(e){try{const t=localStorage.getItem("uploaded-report-"+e.id);t&&await this.saveToUploadsFolder(e.id,t)}catch(t){console.error("Error saving report for GitHub Pages:",t),alert("Failed to publish report to GitHub Pages. Please try again.")}},async saveToUploadsFolder(e,t){try{"showDirectoryPicker"in window?await this.saveWithFileSystemAPI(e,t):await this.downloadWithInstructions(e,t)}catch(s){console.error("Error saving to uploads folder:",s),await this.downloadWithInstructions(e,t)}},async saveWithFileSystemAPI(e,t){try{const s=await window.showDirectoryPicker(),r=await s.getFileHandle(`${e}.json`,{create:!0}),a=await r.createWritable();await a.write(t),await a.close(),console.log(`✅ Report ${e} saved to uploads folder`),alert("Report published successfully! The file has been saved and will be included in the next GitHub Pages update."),await this.triggerIndexGeneration()}catch(s){if("AbortError"!==s.name)throw s;console.log("User cancelled directory selection")}},async downloadWithInstructions(e,t){const s=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(s),a=document.createElement("a");a.href=r,a.download=`${e}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r),console.log(`📁 Report ${e} downloaded for manual upload`);const o='\n📋 To complete GitHub Pages publishing:\n\n1. Save the downloaded file to: \n   cucumber-report-viewer/public/TestResultsJsons/\n\n2. Run the index generator:\n   cd cucumber-report-viewer/public/TestResultsJsons\n   node generate-index-enhanced.js\n\n3. Commit and push the changes:\n   git add .\n   git commit -m "Add new test report"\n   git push\n\nThe GitHub workflow will automatically update your GitHub Pages site!\n      ';alert(o)},async triggerIndexGeneration(){try{console.log("🔄 Index generation needed - run generate-index-enhanced.js")}catch(e){console.error("Error triggering index generation:",e)}},calculatePublishedStatistics(e){if(!e.length)return{totalReports:0,totalScenarios:0,totalSteps:0,totalPassed:0,totalFailed:0,totalSkipped:0,passRate:"0.00",failRate:"0.00",skipRate:"0.00"};const t=e.reduce((e,t)=>({scenarios:e.scenarios+(t.scenarios||0),steps:e.steps+(t.steps||0),passed:e.passed+(t.passed||0),failed:e.failed+(t.failed||0),skipped:e.skipped+(t.skipped||0)}),{scenarios:0,steps:0,passed:0,failed:0,skipped:0}),s=t.steps>0?(t.passed/t.steps*100).toFixed(2):"0.00",r=t.steps>0?(t.failed/t.steps*100).toFixed(2):"0.00",a=t.steps>0?(t.skipped/t.steps*100).toFixed(2):"0.00";return{totalReports:e.length,totalScenarios:t.scenarios,totalSteps:t.steps,totalPassed:t.passed,totalFailed:t.failed,totalSkipped:t.skipped,passRate:s,failRate:r,skipRate:a}},handleReportDeleted(e){const{reportId:t}=e.detail;console.log(`🗑️ Report ${t} deleted - refreshing collection`),this.refreshReports()},handleReportRestored(e){const{reportId:t}=e.detail;console.log(`♻️ Report ${t} restored - refreshing collection`),this.refreshReports()}},async mounted(){await this.fetchReports(),window.addEventListener("reportDeleted",this.handleReportDeleted),window.addEventListener("reportRestored",this.handleReportRestored)},beforeUnmount(){window.removeEventListener("reportDeleted",this.handleReportDeleted),window.removeEventListener("reportRestored",this.handleReportRestored)}},Ke=(0,c.A)(Ge,[["render",Le],["__scopeId","data-v-1b09da65"]]),qe=Ke;function Ye(e,t,s,r,i,n){const l=(0,a.g2)("v-icon"),c=(0,a.g2)("v-tooltip"),d=(0,a.g2)("v-btn");return(0,a.uX)(),(0,a.Wv)(d,{icon:e.isDark?"mdi-weather-sunny":"mdi-weather-night",variant:"text",onClick:n.handleToggle,title:e.isDark?"Switch to light mode":"Switch to dark mode","aria-label":e.isDark?"Switch to light mode":"Switch to dark mode",loading:i.isToggling,disabled:i.isToggling,class:"theme-toggle-btn",size:"default"},{default:(0,a.k6)(()=>[(0,a.bF)(l,{icon:e.isDark?"mdi-weather-sunny":"mdi-weather-night",color:e.isDark?"#FBBF24":"#60A5FA",size:"20",class:(0,o.C4)({rotating:i.isToggling})},null,8,["icon","color","class"]),(0,a.bF)(c,{activator:"parent",location:"bottom"},{default:(0,a.k6)(()=>[(0,a.eW)((0,o.v_)(e.isDark?"Switch to light mode":"Switch to dark mode"),1)]),_:1})]),_:1},8,["icon","onClick","title","aria-label","loading","disabled"])}const Ze={name:"ThemeToggle",data(){return{isToggling:!1}},computed:{...(0,n.L8)("theme",["isDark","userPreference"])},mounted(){this.$el.addEventListener("keydown",this.handleKeydown)},beforeUnmount(){this.$el.removeEventListener("keydown",this.handleKeydown)},methods:{...(0,n.i0)("theme",["toggleTheme"]),async handleToggle(){if(this.isToggling)return;this.isToggling=!0,await new Promise(e=>setTimeout(e,150)),this.toggleTheme();const e=this.isDark?"Switched to light mode":"Switched to dark mode";this.announceToScreenReader(e),setTimeout(()=>{this.isToggling=!1},300)},handleKeydown(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.handleToggle())},announceToScreenReader(e){const t=document.createElement("div");t.setAttribute("aria-live","polite"),t.setAttribute("aria-atomic","true"),t.style.position="absolute",t.style.left="-10000px",t.style.width="1px",t.style.height="1px",t.style.overflow="hidden",document.body.appendChild(t),t.textContent=e,setTimeout(()=>{document.body.removeChild(t)},1e3)}}},et=(0,c.A)(Ze,[["render",Ye],["__scopeId","data-v-23c0b68c"]]),tt=et,st={components:{ReportUploader:Q,ReportsCollection:qe,ThemeToggle:tt},setup(){const e=(0,p.rd)(),t=(0,n.Pj)();return{router:e,store:t}},methods:{async handleFileUpload(e){const t=e&&e._uploadedId;if(e&&this.store.commit("setReportData",e),this.$refs.reportsCollection&&await this.$refs.reportsCollection.refreshReports(),t)this.router.push({name:"Report",params:{id:t},query:{t:Date.now()}});else{let e=JSON.parse(localStorage.getItem("uploaded-reports-index")||"[]");const t=e&&e.length?e[0]:null;t&&t.id&&this.router.push({name:"Report",params:{id:t.id},query:{t:Date.now()}})}}}},rt=(0,c.A)(st,[["render",C],["__scopeId","data-v-680c4320"]]),at=rt;function ot(e){let t=[];if(Array.isArray(e))t=e;else{if(!e||!Array.isArray(e.features))throw new Error("Input is not a valid Cucumber JSON array or object with a features array.");t=e.features}const s={features:[],totalScenarios:0,passed:0,failed:0,duration:0,meta:{framework:e.framework||"",frameworkVersion:e.frameworkVersion||"",runtime:e.runtime||"",runtimeVersion:e.runtimeVersion||"",os:e.os||""}};return t.forEach(e=>{const t={id:e.id,name:e.name,description:e.description||"",tags:Array.isArray(e.tags)?e.tags.map(e=>e.name||e):[],scenarios:[]},r=Array.isArray(e.elements)?e.elements:Array.isArray(e.children)?e.children:[];r.forEach(e=>{if("background"===e.type)return;const r={id:e.id,name:e.name,description:e.description||"",type:e.type,tags:Array.isArray(e.tags)?e.tags.map(e=>e.name||e):[],status:e.status,steps:[],keyword:e.keyword,line:e.line};Array.isArray(e.steps)&&e.steps.forEach(e=>{r.steps.push({keyword:e.keyword,name:e.name,status:e.result&&e.result.status,duration:e.result&&e.result.duration,errorMessage:e.result&&e.result.error_message||null,embeddings:e.embeddings||[],line:e.line})}),t.scenarios.push(r),s.totalScenarios++,"passed"===e.status?s.passed++:"failed"===e.status&&s.failed++,s.duration+=r.steps.reduce((e,t)=>e+(t.duration||0),0)}),s.features.push(t)}),s}const it=ot,nt={components:{LandingPage:at},setup(){const e=(0,n.Pj)(),t=(0,p.rd)(),s=s=>{const r=it(s);console.log("Parsed Cucumber JSON:",r),e.commit("setReportData",r),t.push("/report")};return{onFileUploaded:s}}},lt=(0,c.A)(nt,[["render",m],["__scopeId","data-v-90e6e0b4"]]),ct=lt,dt={class:"report-view"},ut={class:"main-header"},pt={class:"header-content"},ht={class:"header-top"},mt={class:"header-actions"},gt={class:"main-content"},ft={key:0,class:"card empty-card",style:{color:"#b71c1c",background:"#ffebee",border:"1px solid #ffcdd2"}},yt={key:1,class:"dashboard-grid"},vt={key:2,class:"card empty-card"};function kt(e,t,s,r,o,i){const n=(0,a.g2)("ThemeToggle"),l=(0,a.g2)("ReportViewer");return(0,a.uX)(),(0,a.CE)("div",dt,[(0,a.Lk)("header",ut,[(0,a.Lk)("div",pt,[(0,a.Lk)("div",ht,[t[0]||(t[0]=(0,a.Lk)("div",{class:"header-left"},[(0,a.Lk)("span",{class:"logo",style:{display:"flex","align-items":"center","justify-content":"center",background:"#00a818","border-radius":"50%",width:"40px",height:"40px"}},[(0,a.Lk)("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,a.Lk)("path",{d:"M12 2C6.48 2 2 6.48 2 12c0 4.97 3.87 9.06 8.78 9.86.34.05.47-.15.47-.34 0-.17-.01-.73-.01-1.41-3.57.77-4.32-1.72-4.32-1.72-.31-.8-.76-1.01-.76-1.01-.62-.42.05-.41.05-.41.68.05 1.04.7 1.04.7.61 1.04 1.6.74 1.99.57.06-.44.24-.74.43-.91-2.85-.32-5.85-1.43-5.85-6.36 0-1.4.5-2.54 1.32-3.44-.13-.33-.57-1.66.13-3.46 0 0 1.08-.35 3.54 1.31A12.3 12.3 0 0 1 12 6.84c1.09.01 2.19.15 3.22.44 2.46-1.66 3.54-1.31 3.54-1.31.7 1.8.26 3.13.13 3.46.82.9 1.32 2.04 1.32 3.44 0 4.94-3 6.04-5.86 6.36.25.22.47.65.47 1.31 0 .95-.01 1.72-.01 1.95 0 .19.13.39.48.33C18.13 21.06 22 16.97 22 12c0-5.52-4.48-10-10-10z",fill:"#fff"})])])],-1)),(0,a.Lk)("div",mt,[(0,a.bF)(n)])]),t[1]||(t[1]=(0,a.Lk)("h1",{class:"main-title"},"Cucumber Test Results",-1))])]),(0,a.Lk)("main",gt,[r.expired?((0,a.uX)(),(0,a.CE)("div",ft,t[2]||(t[2]=[(0,a.Lk)("p",null,"This report link has expired (older than 24 hours).",-1)]))):r.reportData?((0,a.uX)(),(0,a.CE)("div",yt,[(0,a.bF)(l,{report:r.reportData,selectedFeatureIndex:r.selectedFeatureIndex,onSelectFeature:r.onSelectFeature},null,8,["report","selectedFeatureIndex","onSelectFeature"])])):((0,a.uX)(),(0,a.CE)("div",vt,t[3]||(t[3]=[(0,a.Lk)("p",null,"No report data available. Please upload a Cucumber JSON file.",-1)])))])])}const wt={class:"cucumber-report-root"},bt={class:"modern-header"},St={class:"header-container"},_t={class:"brand-section"},Et={class:"brand-logo"},xt={class:"logo-icon"},Ft={class:"execution-info"},Ct={class:"info-card"},Lt={class:"info-icon"},Rt={class:"info-content"},Dt={class:"info-value"},Tt={class:"info-card"},$t={class:"info-icon"},It={class:"info-content"},At={class:"info-value"},Wt={class:"results-overview"},Pt={class:"results-chart"},zt={class:"chart-container"},Mt={viewBox:"0 0 42 42",class:"donut-chart"},Nt=["stroke-dasharray"],Vt=["stroke-dasharray","stroke-dashoffset"],Ot={class:"chart-center"},Ut={class:"success-percentage"},Ht={class:"results-summary"},jt={class:"summary-item success"},Xt={class:"summary-count"},Bt={class:"summary-item error"},Jt={class:"summary-count"},Qt={class:"summary-item warning"},Gt={class:"summary-count"},Kt={key:0,class:"summary-item error"},qt={class:"summary-count"},Yt={class:"time-section"},Zt={class:"time-card"},es={class:"time-icon"},ts={class:"time-content"},ss={class:"time-value"},rs={class:"duration-card"},as={class:"duration-icon"},os={class:"duration-content"},is={class:"duration-value"},ns={class:"left-actions"},ls={class:"right-actions"},cs={class:"cucumber-report-content"},ds={key:0,class:"cucumber-alert error"},us={key:1,class:"cucumber-alert info"},ps={class:"controls-bar-container"},hs={class:"controls-bar"},ms={class:"control-icon"},gs={class:"control-content"},fs={class:"control-actions"},ys={class:"control-icon"},vs={class:"control-content"},ks={class:"control-actions"},ws={class:"expandable-panels"},bs={key:0,class:"search-panel"},Ss={class:"panel-content"},_s={key:0,class:"search-results-info"},Es={class:"results-summary"},xs={class:"results-breakdown"},Fs={class:"breakdown-item"},Cs={class:"breakdown-item"},Ls={class:"breakdown-item"},Rs={key:1,class:"search-no-results"},Ds={key:0,class:"filters-panel"},Ts={class:"panel-content"},$s={class:"filters-grid"},Is={class:"filter-group"},As={class:"filter-label"},Ws={class:"filter-group"},Ps={class:"filter-label"},zs={class:"filter-group"},Ms={class:"filter-label"},Ns={class:"filter-group"},Vs={class:"filter-label"},Os={key:0,class:"active-filters-summary"},Us={class:"summary-header"},Hs={class:"summary-content"},js={class:"summary-text"},Xs={class:"cucumber-summary-bar"},Bs={class:"summary-env"},Js={class:"env-value"},Qs={class:"summary-stats"},Gs={class:"stat passed"},Ks={class:"stat failed"},qs={class:"stat skipped"},Ys={key:0,class:"stat errors"},Zs={class:"stat duration"},er={key:0,class:"validation-warnings"},tr={class:"alert-content"},sr={key:0,class:"validation-details"},rr={key:0,class:"mb-3"},ar={class:"text-caption text-error mb-1"},or={class:"validation-list"},ir={key:0,class:"text-caption text-medium-emphasis"},nr={key:1},lr={class:"text-caption text-warning mb-1"},cr={class:"validation-list"},dr={key:0,class:"text-caption text-medium-emphasis"},ur={class:"mt-2 text-caption text-medium-emphasis"},pr={class:"feature-file"},hr={key:4,class:"feature-tags"},mr={class:"feature-file"},gr={key:7,class:"feature-tags"},fr={key:0,class:"feature-description"},yr={class:"scenario-header-content"},vr={class:"scenario-title-row"},kr={class:"scenario-title"},wr={class:"scenario-duration"},br={key:0,class:"scenario-tags"},Sr={class:"cucumber-steps-list"},_r={class:"step-keyword"},Er={class:"step-text"},xr={key:4,class:"step-duration"},Fr={key:5,class:"step-error-block"},Cr={class:"error-header"},Lr={class:"step-error-message"},Rr={key:0,class:"error-actions"},Dr={key:6,class:"step-screenshots"},Tr={class:"screenshots-header"},$r={class:"screenshot-thumbnails"},Ir=["onClick"],Ar=["src","alt"],Wr={class:"thumbnail-overlay"};function Pr(e,t,s,i,n,l){const c=(0,a.g2)("v-icon"),d=(0,a.g2)("v-btn"),u=(0,a.g2)("v-tooltip"),p=(0,a.g2)("v-chip"),h=(0,a.g2)("v-text-field"),m=(0,a.g2)("v-select"),g=(0,a.g2)("v-alert"),f=(0,a.g2)("v-card-text"),y=(0,a.g2)("v-card"),v=(0,a.g2)("v-expand-transition"),k=(0,a.g2)("v-expansion-panel-title"),w=(0,a.g2)("LazyScenarios"),b=(0,a.g2)("v-expansion-panel-text"),S=(0,a.g2)("v-expansion-panel"),_=(0,a.g2)("VirtualScroller"),E=(0,a.g2)("v-expansion-panels"),x=(0,a.g2)("ConfirmationDialog"),F=(0,a.g2)("v-snackbar");return(0,a.uX)(),(0,a.CE)("div",wt,[(0,a.Lk)("div",bt,[(0,a.Lk)("div",St,[(0,a.Lk)("div",_t,[(0,a.Lk)("div",Et,[(0,a.Lk)("div",xt,[(0,a.bF)(c,{size:"32",color:l.isDarkTheme?"#34D399":"#10B981"},{default:(0,a.k6)(()=>t[13]||(t[13]=[(0,a.eW)("mdi-leaf")])),_:1,__:[13]},8,["color"])]),t[14]||(t[14]=(0,a.Lk)("div",{class:"brand-text"},[(0,a.Lk)("h1",{class:"brand-title"},"GeoCall"),(0,a.Lk)("p",{class:"brand-subtitle"},"Test Execution Dashboard")],-1))])]),(0,a.Lk)("div",Ft,[(0,a.Lk)("div",Ct,[(0,a.Lk)("div",Lt,[(0,a.bF)(c,{size:"20",color:"#FF6B35"},{default:(0,a.k6)(()=>t[15]||(t[15]=[(0,a.eW)("mdi-language-java")])),_:1,__:[15]})]),(0,a.Lk)("div",Rt,[t[16]||(t[16]=(0,a.Lk)("span",{class:"info-label"},"Runtime",-1)),(0,a.Lk)("span",Dt,(0,o.v_)(s.report?.tool||"cucumber-jvm"),1)])]),(0,a.Lk)("div",Tt,[(0,a.Lk)("div",$t,[(0,a.bF)(c,{size:"20",color:"#00BCF2"},{default:(0,a.k6)(()=>t[17]||(t[17]=[(0,a.eW)("mdi-microsoft-windows")])),_:1,__:[17]})]),(0,a.Lk)("div",It,[t[18]||(t[18]=(0,a.Lk)("span",{class:"info-label"},"Environment",-1)),(0,a.Lk)("span",At,(0,o.v_)(s.report?.os||"Windows 11"),1)])])]),(0,a.Lk)("div",Wt,[(0,a.Lk)("div",Pt,[(0,a.Lk)("div",zt,[((0,a.uX)(),(0,a.CE)("svg",Mt,[t[19]||(t[19]=(0,a.Lk)("circle",{cx:"21",cy:"21",r:"15.915",fill:"transparent",stroke:"#F3F4F6","stroke-width":"3"},null,-1)),(0,a.Lk)("circle",{cx:"21",cy:"21",r:"15.915",fill:"transparent",stroke:"#10B981","stroke-width":"3","stroke-dasharray":l.passedPercentage+" "+(100-l.passedPercentage),"stroke-dashoffset":"25",transform:"rotate(-90 21 21)",class:"success-arc"},null,8,Nt),l.summary.failed>0?((0,a.uX)(),(0,a.CE)("circle",{key:0,cx:"21",cy:"21",r:"15.915",fill:"transparent",stroke:"#EF4444","stroke-width":"3","stroke-dasharray":l.failedPercentage+" "+(100-l.failedPercentage),"stroke-dashoffset":25-l.passedPercentage,transform:"rotate(-90 21 21)",class:"error-arc"},null,8,Vt)):(0,a.Q3)("",!0)])),(0,a.Lk)("div",Ot,[(0,a.Lk)("span",Ut,(0,o.v_)(l.passedPercentage)+"%",1),t[20]||(t[20]=(0,a.Lk)("span",{class:"chart-label"},"Passed",-1))])])]),(0,a.Lk)("div",Ht,[(0,a.Lk)("div",jt,[(0,a.bF)(c,{size:"16",color:"#10B981"},{default:(0,a.k6)(()=>t[21]||(t[21]=[(0,a.eW)("mdi-check-circle")])),_:1,__:[21]}),(0,a.Lk)("span",Xt,(0,o.v_)(l.summary.passed),1),t[22]||(t[22]=(0,a.Lk)("span",{class:"summary-label"},"Passed",-1))]),(0,a.Lk)("div",Bt,[(0,a.bF)(c,{size:"16",color:"#EF4444"},{default:(0,a.k6)(()=>t[23]||(t[23]=[(0,a.eW)("mdi-close-circle")])),_:1,__:[23]}),(0,a.Lk)("span",Jt,(0,o.v_)(l.summary.failed),1),t[24]||(t[24]=(0,a.Lk)("span",{class:"summary-label"},"Failed",-1))]),(0,a.Lk)("div",Qt,[(0,a.bF)(c,{size:"16",color:"#F59E0B"},{default:(0,a.k6)(()=>t[25]||(t[25]=[(0,a.eW)("mdi-pause-circle")])),_:1,__:[25]}),(0,a.Lk)("span",Gt,(0,o.v_)(l.summary.skipped),1),t[26]||(t[26]=(0,a.Lk)("span",{class:"summary-label"},"Skipped",-1))]),l.summary.errors>0?((0,a.uX)(),(0,a.CE)("div",Kt,[(0,a.bF)(c,{size:"16",color:"#EF4444"},{default:(0,a.k6)(()=>t[27]||(t[27]=[(0,a.eW)("mdi-alert-octagon")])),_:1,__:[27]}),(0,a.Lk)("span",qt,(0,o.v_)(l.summary.errors),1),t[28]||(t[28]=(0,a.Lk)("span",{class:"summary-label"},"Errors",-1))])):(0,a.Q3)("",!0)])]),(0,a.Lk)("div",Yt,[(0,a.Lk)("div",Zt,[(0,a.Lk)("div",es,[(0,a.bF)(c,{size:"20",color:"#06B6D4"},{default:(0,a.k6)(()=>t[29]||(t[29]=[(0,a.eW)("mdi-clock-outline")])),_:1,__:[29]})]),(0,a.Lk)("div",ts,[t[30]||(t[30]=(0,a.Lk)("span",{class:"time-label"},"Execution Time",-1)),(0,a.Lk)("span",ss,(0,o.v_)(l.timeAgo),1)])]),(0,a.Lk)("div",rs,[(0,a.Lk)("div",as,[(0,a.bF)(c,{size:"20",color:"#8B5CF6"},{default:(0,a.k6)(()=>t[31]||(t[31]=[(0,a.eW)("mdi-timer-outline")])),_:1,__:[31]})]),(0,a.Lk)("div",os,[t[32]||(t[32]=(0,a.Lk)("span",{class:"duration-label"},"Total Duration",-1)),(0,a.Lk)("span",is,(0,o.v_)(l.summary.duration),1)])])]),(0,a.Lk)("div",ns,[(0,a.bF)(u,{text:"Back to Collection",location:"bottom"},{activator:(0,a.k6)(({props:e})=>[(0,a.bF)(d,(0,a.v6)(e,{onClick:l.goBackToCollection,icon:"mdi-arrow-left",variant:"text",size:"large",class:"back-btn"}),null,16,["onClick"])]),_:1})]),(0,a.Lk)("div",ls,[(0,a.bF)(u,{text:"Refresh Report Data",location:"bottom"},{activator:(0,a.k6)(({props:e})=>[(0,a.bF)(d,(0,a.v6)(e,{onClick:l.refreshReport,icon:"mdi-refresh",variant:"text",size:"large",class:"refresh-btn"}),null,16,["onClick"])]),_:1}),(0,a.bF)(u,{text:n.deleting?"Deleting Report...":"Delete Report",location:"bottom"},{activator:(0,a.k6)(({props:e})=>[(0,a.bF)(d,(0,a.v6)(e,{onClick:l.deleteCurrentReport,icon:n.deleting?"mdi-loading mdi-spin":"mdi-delete",variant:"text",size:"large",class:"delete-btn",disabled:n.deleting,loading:n.deleting}),null,16,["onClick","icon","disabled","loading"])]),_:1},8,["text"])])])]),(0,a.Lk)("div",cs,[n.error?((0,a.uX)(),(0,a.CE)("div",ds,(0,o.v_)(n.error),1)):s.report&&Array.isArray(s.report.features)&&0!==s.report.features.length?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[(0,a.Lk)("div",ps,[(0,a.Lk)("div",hs,[(0,a.Lk)("div",{class:(0,o.C4)(["control-toggle",{active:n.searchQuery||n.searchExpanded}]),onClick:t[0]||(t[0]=(...e)=>l.toggleSearchExpanded&&l.toggleSearchExpanded(...e))},[(0,a.Lk)("div",ms,[(0,a.bF)(c,{size:"22",color:n.searchQuery?"#60A5FA":l.isDarkTheme?"#94A3B8":"#64748b",class:"control-icon-search"},{default:(0,a.k6)(()=>t[33]||(t[33]=[(0,a.eW)("mdi-magnify")])),_:1,__:[33]},8,["color"])]),(0,a.Lk)("div",gs,[t[34]||(t[34]=(0,a.Lk)("span",{class:"control-label"},"Search",-1)),n.searchQuery?((0,a.uX)(),(0,a.Wv)(p,{key:0,color:"primary",size:"x-small",class:"results-count"},{default:(0,a.k6)(()=>[(0,a.eW)((0,o.v_)(n.searchResults.total),1)]),_:1})):(0,a.Q3)("",!0)]),(0,a.Lk)("div",fs,[n.searchQuery&&!n.searchExpanded?((0,a.uX)(),(0,a.Wv)(d,{key:0,onClick:(0,r.D$)(l.clearSearch,["stop"]),variant:"text",color:"secondary",size:"x-small",class:"clear-btn-inline"},{default:(0,a.k6)(()=>[(0,a.bF)(c,{size:"14"},{default:(0,a.k6)(()=>t[35]||(t[35]=[(0,a.eW)("mdi-close")])),_:1,__:[35]})]),_:1},8,["onClick"])):(0,a.Q3)("",!0),(0,a.bF)(c,{class:(0,o.C4)([{"rotate-180":n.searchExpanded},"expand-icon"]),color:"#9CA3AF",size:"18"},{default:(0,a.k6)(()=>t[36]||(t[36]=[(0,a.eW)(" mdi-chevron-down ")])),_:1,__:[36]},8,["class"])])],2),(0,a.Lk)("div",{class:(0,o.C4)(["control-toggle",{active:l.hasActiveFilters||n.filtersExpanded}]),onClick:t[1]||(t[1]=(...e)=>l.toggleFiltersExpanded&&l.toggleFiltersExpanded(...e))},[(0,a.Lk)("div",ys,[(0,a.bF)(c,{size:"22",color:l.hasActiveFilters?"#A78BFA":l.isDarkTheme?"#94A3B8":"#64748b",class:"control-icon-filter"},{default:(0,a.k6)(()=>t[37]||(t[37]=[(0,a.eW)("mdi-filter-variant")])),_:1,__:[37]},8,["color"])]),(0,a.Lk)("div",vs,[t[38]||(t[38]=(0,a.Lk)("span",{class:"control-label"},"Filters",-1)),l.hasActiveFilters?((0,a.uX)(),(0,a.Wv)(p,{key:0,color:"secondary",size:"x-small",class:"results-count"},{default:(0,a.k6)(()=>[(0,a.eW)((0,o.v_)(l.getActiveFiltersCount()),1)]),_:1})):(0,a.Q3)("",!0)]),(0,a.Lk)("div",ks,[l.hasActiveFilters&&!n.filtersExpanded?((0,a.uX)(),(0,a.Wv)(d,{key:0,onClick:(0,r.D$)(l.clearAllFilters,["stop"]),variant:"text",color:"secondary",size:"x-small",class:"clear-btn-inline"},{default:(0,a.k6)(()=>[(0,a.bF)(c,{size:"14"},{default:(0,a.k6)(()=>t[39]||(t[39]=[(0,a.eW)("mdi-filter-remove")])),_:1,__:[39]})]),_:1},8,["onClick"])):(0,a.Q3)("",!0),(0,a.bF)(c,{class:(0,o.C4)([{"rotate-180":n.filtersExpanded},"expand-icon"]),color:"#9CA3AF",size:"18"},{default:(0,a.k6)(()=>t[40]||(t[40]=[(0,a.eW)(" mdi-chevron-down ")])),_:1,__:[40]},8,["class"])])],2)]),(0,a.Lk)("div",ws,[(0,a.Lk)("div",{class:(0,o.C4)(["panel-container",{expanded:n.searchExpanded}])},[n.searchExpanded?((0,a.uX)(),(0,a.CE)("div",bs,[(0,a.Lk)("div",Ss,[(0,a.bF)(h,{modelValue:n.searchQuery,"onUpdate:modelValue":t[2]||(t[2]=e=>n.searchQuery=e),placeholder:"Search features, scenarios, and steps...","prepend-inner-icon":"mdi-magnify",clearable:"",variant:"outlined",density:"comfortable",class:"search-input",onInput:l.onSearchInput,"hide-details":"",autofocus:""},null,8,["modelValue","onInput"]),n.searchQuery&&n.searchResults.total>0?((0,a.uX)(),(0,a.CE)("div",_s,[(0,a.Lk)("div",Es,[(0,a.bF)(p,{color:"success",size:"small",variant:"flat"},{default:(0,a.k6)(()=>[(0,a.bF)(c,{size:"14",class:"mr-1"},{default:(0,a.k6)(()=>t[41]||(t[41]=[(0,a.eW)("mdi-check-circle")])),_:1,__:[41]}),(0,a.eW)(" "+(0,o.v_)(n.searchResults.total)+" results found ",1)]),_:1})]),(0,a.Lk)("div",xs,[(0,a.Lk)("span",Fs,[(0,a.bF)(c,{size:"12",color:"#6366F1"},{default:(0,a.k6)(()=>t[42]||(t[42]=[(0,a.eW)("mdi-file-document")])),_:1,__:[42]}),(0,a.eW)(" "+(0,o.v_)(n.searchResults.features)+" features ",1)]),(0,a.Lk)("span",Cs,[(0,a.bF)(c,{size:"12",color:"#8B5CF6"},{default:(0,a.k6)(()=>t[43]||(t[43]=[(0,a.eW)("mdi-script-text")])),_:1,__:[43]}),(0,a.eW)(" "+(0,o.v_)(n.searchResults.scenarios)+" scenarios ",1)]),(0,a.Lk)("span",Ls,[(0,a.bF)(c,{size:"12",color:"#06B6D4"},{default:(0,a.k6)(()=>t[44]||(t[44]=[(0,a.eW)("mdi-format-list-numbered")])),_:1,__:[44]}),(0,a.eW)(" "+(0,o.v_)(n.searchResults.steps)+" steps ",1)])])])):n.searchQuery&&0===n.searchResults.total?((0,a.uX)(),(0,a.CE)("div",Rs,[(0,a.bF)(p,{color:"warning",size:"small",variant:"flat"},{default:(0,a.k6)(()=>[(0,a.bF)(c,{size:"14",class:"mr-1"},{default:(0,a.k6)(()=>t[45]||(t[45]=[(0,a.eW)("mdi-alert-circle")])),_:1,__:[45]}),t[46]||(t[46]=(0,a.eW)(" No results found "))]),_:1,__:[46]}),t[47]||(t[47]=(0,a.Lk)("p",{class:"no-results-text"},"Try adjusting your search terms or check spelling",-1))])):(0,a.Q3)("",!0)])])):(0,a.Q3)("",!0)],2),(0,a.Lk)("div",{class:(0,o.C4)(["panel-container",{expanded:n.filtersExpanded}])},[n.filtersExpanded?((0,a.uX)(),(0,a.CE)("div",Ds,[(0,a.Lk)("div",Ts,[(0,a.Lk)("div",$s,[(0,a.Lk)("div",Is,[(0,a.Lk)("label",As,[(0,a.bF)(c,{size:"16",color:"#10B981",class:"mr-1"},{default:(0,a.k6)(()=>t[48]||(t[48]=[(0,a.eW)("mdi-check-circle")])),_:1,__:[48]}),t[49]||(t[49]=(0,a.eW)(" Status "))]),(0,a.bF)(m,{modelValue:n.filters.status,"onUpdate:modelValue":[t[3]||(t[3]=e=>n.filters.status=e),l.applyFilters],items:l.statusFilterOptions,"item-title":"text","item-value":"value",multiple:"",chips:"","closable-chips":"",variant:"outlined",density:"compact",class:"filter-select",placeholder:"All statuses","hide-details":""},null,8,["modelValue","items","onUpdate:modelValue"])]),(0,a.Lk)("div",Ws,[(0,a.Lk)("label",Ps,[(0,a.bF)(c,{size:"16",color:"#F59E0B",class:"mr-1"},{default:(0,a.k6)(()=>t[50]||(t[50]=[(0,a.eW)("mdi-tag")])),_:1,__:[50]}),t[51]||(t[51]=(0,a.eW)(" Tags "))]),(0,a.bF)(m,{modelValue:n.filters.tags,"onUpdate:modelValue":[t[4]||(t[4]=e=>n.filters.tags=e),l.applyFilters],items:e.availableTags,multiple:"",chips:"","closable-chips":"",variant:"outlined",density:"compact",class:"filter-select",placeholder:"All tags","hide-details":""},null,8,["modelValue","items","onUpdate:modelValue"])]),(0,a.Lk)("div",zs,[(0,a.Lk)("label",Ms,[(0,a.bF)(c,{size:"16",color:"#06B6D4",class:"mr-1"},{default:(0,a.k6)(()=>t[52]||(t[52]=[(0,a.eW)("mdi-timer")])),_:1,__:[52]}),t[53]||(t[53]=(0,a.eW)(" Duration "))]),(0,a.bF)(m,{modelValue:n.filters.duration,"onUpdate:modelValue":[t[5]||(t[5]=e=>n.filters.duration=e),l.applyFilters],items:l.durationFilterOptions,"item-title":"text","item-value":"value",variant:"outlined",density:"compact",class:"filter-select",placeholder:"All durations","hide-details":""},null,8,["modelValue","items","onUpdate:modelValue"])]),(0,a.Lk)("div",Ns,[(0,a.Lk)("label",Vs,[(0,a.bF)(c,{size:"16",color:"#8B5CF6",class:"mr-1"},{default:(0,a.k6)(()=>t[54]||(t[54]=[(0,a.eW)("mdi-file-document")])),_:1,__:[54]}),t[55]||(t[55]=(0,a.eW)(" Features "))]),(0,a.bF)(m,{modelValue:n.filters.features,"onUpdate:modelValue":[t[6]||(t[6]=e=>n.filters.features=e),l.applyFilters],items:e.availableFeatures,"item-title":"text","item-value":"value",multiple:"",chips:"","closable-chips":"",variant:"outlined",density:"compact",class:"filter-select",placeholder:"All features","hide-details":""},null,8,["modelValue","items","onUpdate:modelValue"])])]),l.hasActiveFilters?((0,a.uX)(),(0,a.CE)("div",Os,[(0,a.Lk)("div",Us,[(0,a.bF)(c,{size:"16",color:"#6366F1",class:"mr-1"},{default:(0,a.k6)(()=>t[56]||(t[56]=[(0,a.eW)("mdi-filter-check")])),_:1,__:[56]}),t[57]||(t[57]=(0,a.Lk)("span",{class:"summary-label"},"Active Filters",-1))]),(0,a.Lk)("div",Hs,[(0,a.Lk)("span",js,(0,o.v_)(l.getActiveFiltersText()),1),(0,a.bF)(p,{color:"primary",size:"small",variant:"outlined",class:"results-chip"},{default:(0,a.k6)(()=>[(0,a.eW)((0,o.v_)(e.filteredFeaturesCount)+" features shown ",1)]),_:1})])])):(0,a.Q3)("",!0)])])):(0,a.Q3)("",!0)],2)])]),(0,a.Lk)("div",Xs,[(0,a.Lk)("div",Bs,[(0,a.bF)(c,{color:"primary",size:"18",class:"mr-1"},{default:(0,a.k6)(()=>t[58]||(t[58]=[(0,a.eW)("mdi-laptop")])),_:1,__:[58]}),t[59]||(t[59]=(0,a.Lk)("span",{class:"env-label"},"Environment:",-1)),(0,a.Lk)("span",Js,(0,o.v_)(s.report.environment||"Test Environment"),1)]),(0,a.Lk)("div",Qs,[(0,a.Lk)("span",Gs,[(0,a.bF)(c,{color:"success",size:"18"},{default:(0,a.k6)(()=>t[60]||(t[60]=[(0,a.eW)("mdi-check-circle")])),_:1,__:[60]}),(0,a.eW)(" "+(0,o.v_)(l.summary.passed)+" Passed ",1)]),(0,a.Lk)("span",Ks,[(0,a.bF)(c,{color:"error",size:"18"},{default:(0,a.k6)(()=>t[61]||(t[61]=[(0,a.eW)("mdi-close-circle")])),_:1,__:[61]}),(0,a.eW)(" "+(0,o.v_)(l.summary.failed)+" Failed ",1)]),(0,a.Lk)("span",qs,[(0,a.bF)(c,{color:"warning",size:"18"},{default:(0,a.k6)(()=>t[62]||(t[62]=[(0,a.eW)("mdi-alert-circle")])),_:1,__:[62]}),(0,a.eW)(" "+(0,o.v_)(l.summary.skipped)+" Skipped ",1)]),l.summary.errors>0?((0,a.uX)(),(0,a.CE)("span",Ys,[(0,a.bF)(c,{color:"error",size:"18"},{default:(0,a.k6)(()=>t[63]||(t[63]=[(0,a.eW)("mdi-alert-octagon")])),_:1,__:[63]}),(0,a.eW)(" "+(0,o.v_)(l.summary.errors)+" Errors ",1)])):(0,a.Q3)("",!0),(0,a.Lk)("span",Zs,[(0,a.bF)(c,{color:"primary",size:"18"},{default:(0,a.k6)(()=>t[64]||(t[64]=[(0,a.eW)("mdi-timer")])),_:1,__:[64]}),(0,a.eW)(" "+(0,o.v_)(l.summary.duration),1)])])]),l.summary.hasValidationIssues||l.summary.hasIntegrityIssues?((0,a.uX)(),(0,a.CE)("div",er,[l.summary.hasIntegrityIssues?((0,a.uX)(),(0,a.Wv)(g,{key:0,type:"error",variant:"tonal",density:"compact",class:"mb-2"},{prepend:(0,a.k6)(()=>[(0,a.bF)(c,null,{default:(0,a.k6)(()=>t[65]||(t[65]=[(0,a.eW)("mdi-alert-octagon")])),_:1,__:[65]})]),default:(0,a.k6)(()=>[t[66]||(t[66]=(0,a.Lk)("div",{class:"alert-content"},[(0,a.Lk)("strong",null,"Critical Data Integrity Issues Detected"),(0,a.Lk)("p",null,"This report contains significant inconsistencies that may affect result accuracy. Manual verification is recommended.")],-1))]),_:1,__:[66]})):(0,a.Q3)("",!0),l.summary.hasValidationIssues&&!l.summary.hasIntegrityIssues?((0,a.uX)(),(0,a.Wv)(g,{key:1,type:"warning",variant:"tonal",density:"compact",class:"mb-2"},{prepend:(0,a.k6)(()=>[(0,a.bF)(c,null,{default:(0,a.k6)(()=>t[67]||(t[67]=[(0,a.eW)("mdi-alert-triangle")])),_:1,__:[67]})]),default:(0,a.k6)(()=>[(0,a.Lk)("div",tr,[t[68]||(t[68]=(0,a.Lk)("strong",null,"Data Quality Issues Found",-1)),(0,a.Lk)("p",null,(0,o.v_)(l.summary.validationErrors>0?`${l.summary.validationErrors} error(s)`:"")+" "+(0,o.v_)(l.summary.validationErrors>0&&l.summary.validationWarnings>0?" and ":"")+" "+(0,o.v_)(l.summary.validationWarnings>0?`${l.summary.validationWarnings} warning(s)`:"")+" detected during report processing. Some results may be incomplete. ",1),(0,a.bF)(d,{size:"small",variant:"text",color:"warning",onClick:t[7]||(t[7]=e=>n.showValidationDetails=!n.showValidationDetails),class:"mt-1"},{default:(0,a.k6)(()=>[(0,a.eW)((0,o.v_)(n.showValidationDetails?"Hide":"Show")+" Details ",1),(0,a.bF)(c,{size:"16",class:"ml-1"},{default:(0,a.k6)(()=>[(0,a.eW)((0,o.v_)(n.showValidationDetails?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:1})]),_:1})])]),_:1})):(0,a.Q3)("",!0),(0,a.bF)(v,null,{default:(0,a.k6)(()=>[n.showValidationDetails&&s.report._validation?((0,a.uX)(),(0,a.CE)("div",sr,[(0,a.bF)(y,{variant:"outlined",class:"mb-2"},{default:(0,a.k6)(()=>[(0,a.bF)(f,{class:"pa-3"},{default:(0,a.k6)(()=>[t[69]||(t[69]=(0,a.Lk)("h4",{class:"text-subtitle-2 mb-2"},"Validation Details",-1)),s.report._validation.errors&&s.report._validation.errors.length>0?((0,a.uX)(),(0,a.CE)("div",rr,[(0,a.Lk)("h5",ar,"Errors ("+(0,o.v_)(s.report._validation.errors.length)+"):",1),(0,a.Lk)("ul",or,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.report._validation.errors.slice(0,5),e=>((0,a.uX)(),(0,a.CE)("li",{key:e.message,class:"text-caption"},[(0,a.Lk)("strong",null,(0,o.v_)(e.location||"Unknown")+":",1),(0,a.eW)(" "+(0,o.v_)(e.message),1)]))),128)),s.report._validation.errors.length>5?((0,a.uX)(),(0,a.CE)("li",ir," ... and "+(0,o.v_)(s.report._validation.errors.length-5)+" more errors ",1)):(0,a.Q3)("",!0)])])):(0,a.Q3)("",!0),s.report._validation.warnings&&s.report._validation.warnings.length>0?((0,a.uX)(),(0,a.CE)("div",nr,[(0,a.Lk)("h5",lr,"Warnings ("+(0,o.v_)(s.report._validation.warnings.length)+"):",1),(0,a.Lk)("ul",cr,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.report._validation.warnings.slice(0,5),e=>((0,a.uX)(),(0,a.CE)("li",{key:e.message,class:"text-caption"},[(0,a.Lk)("strong",null,(0,o.v_)(e.location||"Unknown")+":",1),(0,a.eW)(" "+(0,o.v_)(e.message),1)]))),128)),s.report._validation.warnings.length>5?((0,a.uX)(),(0,a.CE)("li",dr," ... and "+(0,o.v_)(s.report._validation.warnings.length-5)+" more warnings ",1)):(0,a.Q3)("",!0)])])):(0,a.Q3)("",!0),(0,a.Lk)("div",ur," Processed "+(0,o.v_)(s.report._validation.processedEntryCount||0)+" of "+(0,o.v_)(s.report._validation.originalEntryCount||0)+" entries ",1)]),_:1,__:[69]})]),_:1})])):(0,a.Q3)("",!0)]),_:1})])):(0,a.Q3)("",!0),l.filteredFeatures.length>50?((0,a.uX)(),(0,a.Wv)(_,{key:1,items:l.filteredFeatures,"item-height":120,"container-height":600,class:"cucumber-features-list"},{default:(0,a.k6)(({item:e,index:s})=>[((0,a.uX)(),(0,a.Wv)(S,{key:e.id||e.name,class:"virtual-feature-panel"},{default:(0,a.k6)(()=>[(0,a.bF)(k,{class:(0,o.C4)(["cucumber-feature-row",[l.featureStatus(e)]])},{default:(0,a.k6)(()=>["passed"===l.featureStatus(e)?((0,a.uX)(),(0,a.Wv)(c,{key:0,color:"success",size:"18"},{default:(0,a.k6)(()=>t[70]||(t[70]=[(0,a.eW)("mdi-check-circle")])),_:1,__:[70]})):"failed"===l.featureStatus(e)?((0,a.uX)(),(0,a.Wv)(c,{key:1,color:"error",size:"18"},{default:(0,a.k6)(()=>t[71]||(t[71]=[(0,a.eW)("mdi-close-circle")])),_:1,__:[71]})):"skipped"===l.featureStatus(e)?((0,a.uX)(),(0,a.Wv)(c,{key:2,color:"warning",size:"18"},{default:(0,a.k6)(()=>t[72]||(t[72]=[(0,a.eW)("mdi-alert-circle")])),_:1,__:[72]})):((0,a.uX)(),(0,a.Wv)(c,{key:3,color:"grey",size:"18"},{default:(0,a.k6)(()=>t[73]||(t[73]=[(0,a.eW)("mdi-help-circle")])),_:1,__:[73]})),(0,a.Lk)("span",pr,(0,o.v_)(e.uri||e.name),1),e.tags&&e.tags.length?((0,a.uX)(),(0,a.CE)("span",hr,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.tags,e=>((0,a.uX)(),(0,a.CE)("span",{key:e,class:"feature-tag"},(0,o.v_)(l.cleanTagText(e)),1))),128))])):(0,a.Q3)("",!0)]),_:2},1032,["class"]),(0,a.bF)(b,null,{default:(0,a.k6)(()=>[(0,a.bF)(w,{feature:e},null,8,["feature"])]),_:2},1024)]),_:2},1024))]),_:1},8,["items"])):((0,a.uX)(),(0,a.Wv)(E,{key:2,multiple:"",class:"cucumber-features-list"},{default:(0,a.k6)(()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.filteredFeatures,(e,s)=>((0,a.uX)(),(0,a.Wv)(S,{key:e.id||e.name},{default:(0,a.k6)(()=>[(0,a.bF)(k,{class:(0,o.C4)(["cucumber-feature-row",[l.featureStatus(e),l.getFeatureDisplayClass(e)]])},{default:(0,a.k6)(()=>[l.isExecutionErrorFeature(e)?((0,a.uX)(),(0,a.Wv)(c,{key:0,color:"error",size:"20"},{default:(0,a.k6)(()=>t[74]||(t[74]=[(0,a.eW)("mdi-alert-circle")])),_:1,__:[74]})):"passed"===l.featureStatus(e)?((0,a.uX)(),(0,a.Wv)(c,{key:1,color:"success",size:"18"},{default:(0,a.k6)(()=>t[75]||(t[75]=[(0,a.eW)("mdi-check-circle")])),_:1,__:[75]})):"failed"===l.featureStatus(e)?((0,a.uX)(),(0,a.Wv)(c,{key:2,color:"error",size:"18"},{default:(0,a.k6)(()=>t[76]||(t[76]=[(0,a.eW)("mdi-close-circle")])),_:1,__:[76]})):"skipped"===l.featureStatus(e)?((0,a.uX)(),(0,a.Wv)(c,{key:3,color:"warning",size:"18"},{default:(0,a.k6)(()=>t[77]||(t[77]=[(0,a.eW)("mdi-alert-circle")])),_:1,__:[77]})):((0,a.uX)(),(0,a.Wv)(c,{key:4,color:"grey",size:"18"},{default:(0,a.k6)(()=>t[78]||(t[78]=[(0,a.eW)("mdi-help-circle")])),_:1,__:[78]})),(0,a.Lk)("span",mr,(0,o.v_)(l.getFormattedFeatureName(e)),1),l.isExecutionErrorFeature(e)?((0,a.uX)(),(0,a.Wv)(p,{key:5,color:"error",size:"small",variant:"outlined",class:"ml-2"},{default:(0,a.k6)(()=>t[79]||(t[79]=[(0,a.eW)(" Framework Error ")])),_:1,__:[79]})):l.hasDataQualityIssues(e)?((0,a.uX)(),(0,a.Wv)(p,{key:6,color:"warning",size:"small",variant:"outlined",class:"ml-2"},{default:(0,a.k6)(()=>t[80]||(t[80]=[(0,a.eW)(" Data Issues ")])),_:1,__:[80]})):(0,a.Q3)("",!0),e.tags&&e.tags.length?((0,a.uX)(),(0,a.CE)("span",gr,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.getFormattedTags(e.tags),e=>((0,a.uX)(),(0,a.CE)("span",{key:e.name,class:"feature-tag"},(0,o.v_)(e.displayName),1))),128))])):(0,a.Q3)("",!0)]),_:2},1032,["class"]),(0,a.bF)(b,null,{default:(0,a.k6)(()=>[e.description?((0,a.uX)(),(0,a.CE)("div",fr,(0,o.v_)(e.description),1)):(0,a.Q3)("",!0),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.elements.filter(e=>"background"!==e.type),e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id||e.name,class:"cucumber-scenario-block"},[(0,a.bF)(E,null,{default:(0,a.k6)(()=>[(0,a.bF)(S,null,{default:(0,a.k6)(()=>[(0,a.bF)(k,{class:"scenario-header-row"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",yr,[(0,a.Lk)("div",vr,[(0,a.Lk)("span",kr,(0,o.v_)(e.keyword||"Scenario")+": "+(0,o.v_)(l.getFormattedScenarioName(e)),1),l.hasScenarioDataIssues(e)?((0,a.uX)(),(0,a.Wv)(c,{key:0,color:"warning",size:"16",class:"ml-1",title:l.getScenarioDataIssueTooltip(e)},{default:(0,a.k6)(()=>t[81]||(t[81]=[(0,a.eW)(" mdi-alert ")])),_:2,__:[81]},1032,["title"])):(0,a.Q3)("",!0),"passed"===l.scenarioStatus(e)?((0,a.uX)(),(0,a.Wv)(c,{key:1,color:"success",size:"18"},{default:(0,a.k6)(()=>t[82]||(t[82]=[(0,a.eW)("mdi-check-circle")])),_:1,__:[82]})):"failed"===l.scenarioStatus(e)?((0,a.uX)(),(0,a.Wv)(c,{key:2,color:"error",size:"18"},{default:(0,a.k6)(()=>t[83]||(t[83]=[(0,a.eW)("mdi-close-circle")])),_:1,__:[83]})):"skipped"===l.scenarioStatus(e)?((0,a.uX)(),(0,a.Wv)(c,{key:3,color:"warning",size:"18"},{default:(0,a.k6)(()=>t[84]||(t[84]=[(0,a.eW)("mdi-alert-circle")])),_:1,__:[84]})):((0,a.uX)(),(0,a.Wv)(c,{key:4,color:"grey",size:"18"},{default:(0,a.k6)(()=>t[85]||(t[85]=[(0,a.eW)("mdi-help-circle")])),_:1,__:[85]})),(0,a.Lk)("span",wr,(0,o.v_)(l.formatDuration(e.duration)),1)]),e.tags&&e.tags.length?((0,a.uX)(),(0,a.CE)("div",br,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.getFormattedTags(e.tags),e=>((0,a.uX)(),(0,a.CE)("span",{key:e.name,class:"scenario-tag"},(0,o.v_)(e.displayName),1))),128))])):(0,a.Q3)("",!0)])]),_:2},1024),(0,a.bF)(b,null,{default:(0,a.k6)(()=>[(0,a.Lk)("ul",Sr,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.steps,(s,r)=>((0,a.uX)(),(0,a.CE)("li",{key:s.keyword+s.name+r,class:"cucumber-step-row"},["passed"===l.stepStatus(s)?((0,a.uX)(),(0,a.Wv)(c,{key:0,color:"success",size:"16"},{default:(0,a.k6)(()=>t[86]||(t[86]=[(0,a.eW)("mdi-check-circle")])),_:1,__:[86]})):"failed"===l.stepStatus(s)?((0,a.uX)(),(0,a.Wv)(c,{key:1,color:"error",size:"16"},{default:(0,a.k6)(()=>t[87]||(t[87]=[(0,a.eW)("mdi-close-circle")])),_:1,__:[87]})):"skipped"===l.stepStatus(s)?((0,a.uX)(),(0,a.Wv)(c,{key:2,color:"warning",size:"16"},{default:(0,a.k6)(()=>t[88]||(t[88]=[(0,a.eW)("mdi-alert-circle")])),_:1,__:[88]})):((0,a.uX)(),(0,a.Wv)(c,{key:3,color:"grey",size:"16"},{default:(0,a.k6)(()=>t[89]||(t[89]=[(0,a.eW)("mdi-help-circle")])),_:1,__:[89]})),(0,a.Lk)("span",_r,(0,o.v_)(s.keyword),1),(0,a.Lk)("span",Er,(0,o.v_)(s.name),1),s.duration?((0,a.uX)(),(0,a.CE)("span",xr,"("+(0,o.v_)(l.formatDuration(s.duration))+")",1)):(0,a.Q3)("",!0),l.getStepErrorMessage(s)?((0,a.uX)(),(0,a.CE)("div",Fr,[(0,a.Lk)("div",Cr,[(0,a.bF)(c,{color:"error",size:"16",class:"mr-1"},{default:(0,a.k6)(()=>t[90]||(t[90]=[(0,a.eW)("mdi-alert-circle")])),_:1,__:[90]}),t[91]||(t[91]=(0,a.Lk)("span",{class:"error-label"},"Error Details:",-1))]),(0,a.Lk)("pre",Lr,(0,o.v_)(l.getDisplayErrorMessage(s)),1),l.shouldTruncateError(s)?((0,a.uX)(),(0,a.CE)("div",Rr,[(0,a.bF)(d,{onClick:e=>l.toggleErrorExpansion(s),text:"",small:"",color:"primary",class:"expand-error-btn"},{default:(0,a.k6)(()=>[(0,a.bF)(c,{size:"14",class:"mr-1"},{default:(0,a.k6)(()=>[(0,a.eW)((0,o.v_)(s._showFullError?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:2},1024),(0,a.eW)(" "+(0,o.v_)(s._showFullError?"Show less":"Show more..."),1)]),_:2},1032,["onClick"]),(0,a.bF)(d,{onClick:e=>l.copyErrorToClipboard(s),text:"",small:"",color:"secondary",class:"copy-error-btn"},{default:(0,a.k6)(()=>[(0,a.bF)(c,{size:"14",class:"mr-1"},{default:(0,a.k6)(()=>t[92]||(t[92]=[(0,a.eW)("mdi-content-copy")])),_:1,__:[92]}),t[93]||(t[93]=(0,a.eW)(" Copy "))]),_:2,__:[93]},1032,["onClick"])])):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0),"failed"===l.stepStatus(s)&&l.getScenarioScreenshots(e).length>0?((0,a.uX)(),(0,a.CE)("div",Dr,[(0,a.Lk)("div",Tr,[(0,a.bF)(c,{color:"info",size:"16",class:"mr-1"},{default:(0,a.k6)(()=>t[94]||(t[94]=[(0,a.eW)("mdi-camera")])),_:1,__:[94]}),t[95]||(t[95]=(0,a.Lk)("span",{class:"screenshots-label"},"Screenshots:",-1))]),(0,a.Lk)("div",$r,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.getScenarioScreenshots(e),(s,r)=>((0,a.uX)(),(0,a.CE)("div",{key:r,class:"screenshot-thumbnail",onClick:t=>l.openScreenshotModal(e,r)},[(0,a.Lk)("img",{src:s.dataUrl,alt:`Screenshot ${r+1}`,class:"thumbnail-image",onLoad:t[8]||(t[8]=(...e)=>l.onScreenshotLoad&&l.onScreenshotLoad(...e)),onError:t[9]||(t[9]=(...e)=>l.onScreenshotError&&l.onScreenshotError(...e))},null,40,Ar),(0,a.Lk)("div",Wr,[(0,a.bF)(c,{color:"white",size:"20"},{default:(0,a.k6)(()=>t[96]||(t[96]=[(0,a.eW)("mdi-magnify-plus")])),_:1,__:[96]})])],8,Ir))),128))])])):(0,a.Q3)("",!0)]))),128))])]),_:2},1024)]),_:2},1024)]),_:2},1024)]))),128))]),_:2},1024)]),_:2},1024))),128))]),_:1}))],64)):((0,a.uX)(),(0,a.CE)("div",us," No report data available or invalid report format. Please upload a valid Cucumber JSON file. "))]),(0,a.bF)(x,{modelValue:n.confirmationDialog.show,"onUpdate:modelValue":t[10]||(t[10]=e=>n.confirmationDialog.show=e),title:n.confirmationDialog.title,message:n.confirmationDialog.message,details:n.confirmationDialog.details,type:n.confirmationDialog.type,"confirm-text":n.confirmationDialog.confirmText,"confirm-color":n.confirmationDialog.confirmColor,"show-environment-info":n.confirmationDialog.showEnvironmentInfo,environment:n.confirmationDialog.environment,onConfirm:n.confirmationDialog.onConfirm,onCancel:n.confirmationDialog.onCancel},null,8,["modelValue","title","message","details","type","confirm-text","confirm-color","show-environment-info","environment","onConfirm","onCancel"]),(0,a.bF)(F,{modelValue:n.snackbar.show,"onUpdate:modelValue":t[12]||(t[12]=e=>n.snackbar.show=e),color:n.snackbar.color,timeout:n.snackbar.timeout,location:"top right"},{actions:(0,a.k6)(()=>[(0,a.bF)(d,{variant:"text",onClick:t[11]||(t[11]=e=>n.snackbar.show=!1)},{default:(0,a.k6)(()=>t[97]||(t[97]=[(0,a.eW)(" Close ")])),_:1,__:[97]})]),default:(0,a.k6)(()=>[(0,a.eW)((0,o.v_)(n.snackbar.message)+" ",1)]),_:1},8,["modelValue","color","timeout"])])}class zr{constructor(){this.placeholderNames=new Map,this.dataIssueFlags=new Set}normalizeScenarioName(e){return e.name&&""!==e.name.trim()?e.name.trim():this.generatePlaceholderName(e)}generatePlaceholderName(e){const t=this.getScenarioKey(e);if(this.placeholderNames.has(t))return this.placeholderNames.get(t);let s="Unnamed Scenario";if(e.id){const t=e.id.split(";"),r=t[t.length-1];if(r&&"unknown"!==r){const e=r.replace(/[-_]/g," ").replace(/\b\w/g,e=>e.toUpperCase());s=`${e} (Unnamed)`}}return"Unnamed Scenario"===s&&e.steps&&e.steps.length>0&&(s=`Scenario with ${e.steps.length} step${e.steps.length>1?"s":""}`),this.placeholderNames.set(t,s),s}validateScenarioData(e){const t=[],s=this.getScenarioKey(e);e.name&&""!==e.name.trim()||t.push({type:"empty_name",message:"Scenario has empty or null name",severity:"warning",suggestion:"Add a meaningful name to the scenario in your feature file"}),e.steps&&0!==e.steps.length||t.push({type:"no_steps",message:"Scenario has no steps",severity:"high",suggestion:"Add test steps to the scenario"}),e.steps&&e.steps.some(e=>!e.result)&&t.push({type:"missing_results",message:"Some steps are missing execution results",severity:"medium",suggestion:"Ensure all steps are executed during test run"}),e.steps&&e.steps.some(e=>e.result&&e.result.error_message&&e.result.error_message.includes("IllegalArgumentException"))&&t.push({type:"illegal_argument_exception",message:"Scenario contains IllegalArgumentException errors",severity:"high",suggestion:"Check test configuration and ensure all required parameters are provided"}),e.steps&&e.steps.some(e=>e.result&&e.result.error_message&&e.result.error_message.includes("Test name must not be null or empty"))&&t.push({type:"null_test_name_error",message:"Framework error: Test name must not be null or empty",severity:"critical",suggestion:"Ensure all scenarios have meaningful names in your feature files"});const r={low:1,medium:2,warning:2,high:3,critical:4},a=t.reduce((e,t)=>{const s=r[t.severity]||1;return s>e?s:e},0),o={1:"low",2:"medium",3:"high",4:"critical"},i=o[a]||"low";return t.length>0&&this.dataIssueFlags.add(s),{isValid:0===t.length,issues:t,severity:i,hasDataIssues:t.length>0}}renderScenarioWithIssues(e,t){const s=this.normalizeScenarioName(e),r=this.getScenarioKey(e);return{originalScenario:e,displayName:s,hasPlaceholderName:!e.name||""===e.name.trim(),validation:t,dataQuality:{hasIssues:t.hasDataIssues,severity:t.severity,issueCount:t.issues.length,issues:t.issues},styling:this.getScenarioStyling(e,t),indicators:this.getDataQualityIndicators(t),tooltips:this.generateTooltips(t),key:r}}getScenarioStyling(e,t){const s={textAlign:"left",padding:"8px 16px",marginBottom:"4px",borderRadius:"4px",transition:"all 0.2s ease"};if(t.hasDataIssues){const e={low:"#fff3e0",medium:"#fff8e1",warning:"#fff8e1",high:"#ffecb3",critical:"#ffcdd2"},r={low:"#ff9800",medium:"#ff9800",warning:"#ff9800",high:"#f57c00",critical:"#f44336"};return{...s,backgroundColor:e[t.severity]||e.medium,borderLeft:`3px solid ${r[t.severity]||r.medium}`,boxShadow:"0 1px 3px rgba(0,0,0,0.1)"}}return{...s,backgroundColor:"#f9f9f9",borderLeft:"3px solid #e0e0e0"}}getDataQualityIndicators(e){const t=[];if(!e.hasDataIssues)return t;const s={low:"mdi-information",medium:"mdi-alert",warning:"mdi-alert",high:"mdi-alert-circle",critical:"mdi-alert-octagon"},r={low:"#2196f3",medium:"#ff9800",warning:"#ff9800",high:"#f57c00",critical:"#f44336"};return t.push({type:"severity",icon:s[e.severity]||"mdi-alert",color:r[e.severity]||"#ff9800",text:`${e.severity.toUpperCase()} - ${e.issues.length} issue${e.issues.length>1?"s":""}`,tooltip:`Data quality issues detected (${e.severity} severity)`}),e.issues.forEach(e=>{const s={empty_name:"mdi-tag-off",no_steps:"mdi-format-list-bulleted-square",missing_results:"mdi-help-circle",illegal_argument_exception:"mdi-bug",null_test_name_error:"mdi-alert-circle"};t.push({type:"issue",icon:s[e.type]||"mdi-alert",color:r[e.severity]||"#ff9800",text:e.message,tooltip:e.suggestion||"Data quality issue detected"})}),t}generateTooltips(e){if(!e.hasDataIssues)return null;const t={summary:`${e.issues.length} data quality issue${e.issues.length>1?"s":""} detected`,issues:e.issues.map(e=>({type:e.type,message:e.message,suggestion:e.suggestion,severity:e.severity})),actions:[]};return e.issues.some(e=>"empty_name"===e.type)&&t.actions.push({text:"Add scenario names to feature files",icon:"mdi-pencil"}),e.issues.some(e=>"illegal_argument_exception"===e.type)&&t.actions.push({text:"Check test configuration",icon:"mdi-cog"}),t}getScenarioKey(e){if(e.id)return e.id;const t={name:e.name||"",line:e.line||0,stepCount:e.steps?e.steps.length:0};return`scenario_${JSON.stringify(t).replace(/[^a-zA-Z0-9]/g,"_")}`}clearCache(){this.placeholderNames.clear(),this.dataIssueFlags.clear()}getStatistics(){return{totalProcessed:this.placeholderNames.size,scenariosWithIssues:this.dataIssueFlags.size,placeholderNamesGenerated:this.placeholderNames.size,issueRate:this.placeholderNames.size>0?(this.dataIssueFlags.size/this.placeholderNames.size*100).toFixed(2)+"%":"0%"}}}const Mr=zr;class Nr{constructor(){this.executionErrorPatterns=["classpath:io/cucumber/core/failure.feature","failure.feature","execution-error"],this.errorGuidanceCache=new Map}isExecutionErrorFeature(e){return!(!e||!e.uri)&&this.executionErrorPatterns.some(t=>e.uri.includes(t))}renderExecutionErrorFeature(e){const t=this.getExecutionErrorGuidance(e);return{type:"execution-error",originalFeature:e,title:"⚠️ Test Execution Error",subtitle:"Framework-level execution failure",description:e.description||"There were errors during the execution",severity:"critical",isFrameworkError:!0,guidance:t,styling:this.getExecutionErrorStyling(),indicators:this.getExecutionErrorIndicators(e,t),scenarios:this.processExecutionErrorScenarios(e.elements||[]),metadata:{uri:e.uri,featureId:e.id||"execution-error",errorType:this.detectErrorType(e),timestamp:(new Date).toISOString()}}}getExecutionErrorGuidance(e){const t=this.getFeatureKey(e);if(this.errorGuidanceCache.has(t))return this.errorGuidanceCache.get(t);const s=e.elements||[],r=s.filter(e=>e.steps&&e.steps.some(e=>e.result&&"failed"===e.result.status));let a={issue:"Test execution framework error",solution:"Check Cucumber configuration and test setup",action:"Review logs and test runner configuration for detailed error information",priority:"high",category:"framework",resolutionSteps:[]};if(r.length>0){const e=r[0].steps.find(e=>e.result&&"failed"===e.result.status);if(e&&e.result.error_message){const t=e.result.error_message;t.includes("Test name must not be null or empty")?a={issue:"Empty test names detected",solution:"Ensure all scenarios have meaningful names in your feature files",action:"Review your Cucumber feature files and add names to all scenarios",priority:"critical",category:"configuration",resolutionSteps:["Open your feature files (.feature)","Check for scenarios without names or with empty names","Add descriptive names to all scenarios","Ensure scenario names are not null or empty strings","Re-run your tests to verify the fix"],technicalDetails:{errorType:"IllegalArgumentException",rootCause:"Scenario names are required by the test framework",impact:"Prevents test execution and report generation"}}:t.includes("IllegalArgumentException")?a={issue:"Invalid test configuration detected",solution:"Check your test runner configuration and step definitions",action:"Review test setup and ensure all required parameters are provided",priority:"high",category:"configuration",resolutionSteps:["Check your test runner configuration","Verify all step definitions have proper parameters","Ensure feature files are properly formatted","Check for missing or invalid test annotations","Validate test data and parameter bindings"],technicalDetails:{errorType:"IllegalArgumentException",rootCause:"Invalid parameters or configuration in test setup",impact:"Causes test execution to fail before scenarios run"}}:t.includes("ClassNotFoundException")?a={issue:"Missing test dependencies or classes",solution:"Check your classpath and ensure all required dependencies are available",action:"Verify test dependencies and class availability",priority:"high",category:"dependencies",resolutionSteps:["Check your project dependencies","Verify classpath configuration","Ensure all required test libraries are included","Check for missing step definition classes","Rebuild your project to resolve dependencies"]}:t.includes("NoSuchMethodException")&&(a={issue:"Missing or incompatible step definitions",solution:"Check your step definitions and method signatures",action:"Verify step definition methods match feature file steps",priority:"high",category:"step-definitions",resolutionSteps:["Review your step definition files","Check method signatures match step patterns","Verify parameter types and counts","Ensure step definition annotations are correct","Check for typos in step patterns"]})}}return this.errorGuidanceCache.set(t,a),a}getExecutionErrorStyling(){return{container:{borderLeft:"4px solid #f44336",backgroundColor:"#ffebee",marginBottom:"16px",borderRadius:"4px",boxShadow:"0 2px 4px rgba(244, 67, 54, 0.1)"},header:{display:"flex",alignItems:"center",padding:"12px 16px",backgroundColor:"#ffcdd2",borderTopLeftRadius:"4px",borderTopRightRadius:"4px"},icon:{color:"#f44336",marginRight:"8px",fontSize:"24px"},title:{color:"#c62828",fontWeight:"bold",fontSize:"16px",margin:0},subtitle:{color:"#d32f2f",fontSize:"12px",fontStyle:"italic",marginTop:"2px"},content:{padding:"16px",backgroundColor:"#ffebee"},guidance:{padding:"16px",backgroundColor:"#fff3e0",borderLeft:"3px solid #ff9800",marginTop:"8px",borderRadius:"0 4px 4px 0"},guidanceTitle:{color:"#e65100",fontWeight:"bold",marginBottom:"8px"},resolutionSteps:{marginTop:"12px",paddingLeft:"16px"}}}getExecutionErrorIndicators(e,t){const s=[];s.push({type:"error",icon:"mdi-alert-circle",color:"#f44336",text:"Framework Execution Error",tooltip:"This is a Cucumber framework error, not a test failure"}),s.push({type:"priority",icon:"critical"===t.priority?"mdi-alert-octagon":"mdi-alert",color:"critical"===t.priority?"#d32f2f":"#f57c00",text:`${t.priority.toUpperCase()} Priority`,tooltip:`This issue has ${t.priority} priority and should be addressed immediately`});const r={framework:"mdi-cog",configuration:"mdi-settings",dependencies:"mdi-package-variant","step-definitions":"mdi-code-braces"};return s.push({type:"category",icon:r[t.category]||"mdi-help-circle",color:"#2196f3",text:t.category.replace("-"," ").toUpperCase(),tooltip:`Error category: ${t.category}`}),s}processExecutionErrorScenarios(e){return e.map(e=>{const t=e.steps?e.steps.filter(e=>e.result&&"failed"===e.result.status):[];return{originalScenario:e,name:e.name||"Execution Error Scenario",isExecutionError:!0,errorSteps:t,errorMessages:t.map(e=>e.result.error_message).filter(Boolean),hasFrameworkError:t.some(e=>e.result.error_message&&(e.result.error_message.includes("IllegalArgumentException")||e.result.error_message.includes("Test name must not be null or empty")))}})}detectErrorType(e){const t=e.elements||[],s=[];t.forEach(e=>{e.steps&&e.steps.forEach(e=>{e.result&&e.result.error_message&&s.push(e.result.error_message)})});const r=s.join(" ");return r.includes("Test name must not be null or empty")?"empty-test-names":r.includes("IllegalArgumentException")?"illegal-argument":r.includes("ClassNotFoundException")?"missing-dependencies":r.includes("NoSuchMethodException")?"missing-step-definitions":"unknown-execution-error"}getFeatureKey(e){return e.uri||e.id||`execution-error-${Date.now()}`}clearCache(){this.errorGuidanceCache.clear()}getStatistics(){return{totalExecutionErrors:this.errorGuidanceCache.size,cachedGuidance:this.errorGuidanceCache.size,supportedPatterns:this.executionErrorPatterns.length}}addExecutionErrorPattern(e){this.executionErrorPatterns.includes(e)||this.executionErrorPatterns.push(e)}removeExecutionErrorPattern(e){const t=this.executionErrorPatterns.indexOf(e);t>-1&&this.executionErrorPatterns.splice(t,1)}}const Vr=Nr;class Or{constructor(){this.displaySettings={alignment:"left",tagFormat:{removeBraces:!0,separator:" ",styling:{backgroundColor:"#e3f2fd",textColor:"#1976d2",borderRadius:"4px",padding:"2px 8px",fontSize:"12px",fontWeight:"500"}},theme:"light",compactMode:!1},this.scenarioHandler=new Mr,this.executionErrorHandler=new Vr,this.formattingCache=new Map}formatFeatureDisplay(e,t={}){const s=this.getFeatureKey(e);if(this.formattingCache.has(s))return this.formattingCache.get(s);const r=this.executionErrorHandler.isExecutionErrorFeature(e),a=this.validateFeatureScenarios(e),o=a.hasIssues,i={originalFeature:e,name:this.formatFeatureName(e,r),description:this.formatDescription(e.description),scenarios:this.formatScenarios(e.elements||[],o),tags:this.formatTags(e.tags||[]),styling:this.getFeatureStyling(r,o),metadata:{...t,isExecutionError:r,hasDataIssues:o,scenarioCount:(e.elements||[]).length,validation:a},indicators:this.getFeatureIndicators(e,r,o),key:s};if(r){const t=this.executionErrorHandler.renderExecutionErrorFeature(e);i.executionError=t,i.isFrameworkError=!0}return this.formattingCache.set(s,i),i}formatFeatureName(e,t){let s=e.name||"Unnamed Feature";if(t)return`⚠️ ${s}`;if(s=s.trim(),(!s||"Unnamed Feature"===s)&&e.uri){const t=e.uri.split("/"),r=t[t.length-1];r&&"failure.feature"!==r&&(s=r.replace(/\.(feature|js|ts)$/,"").replace(/[-_]/g," "),s=s.charAt(0).toUpperCase()+s.slice(1))}return s}formatDescription(e){return e&&""!==e.trim()?e.trim():""}formatScenarios(e,t){return e.map(e=>{if("background"===e.type)return{...e,isBackground:!0,formatted:!0};const t=this.scenarioHandler.validateScenarioData(e),s=this.scenarioHandler.renderScenarioWithIssues(e,t);return{...s,name:s.displayName,status:this.calculateScenarioStatus(e),steps:this.formatSteps(e.steps||[]),tags:this.formatTags(e.tags||[]),styling:this.getScenarioStyling(e,t),formatted:!0}})}formatTags(e){return Array.isArray(e)?e.map(e=>{let t="";return"string"===typeof e?t=e:e&&e.name&&(t=e.name),this.displaySettings.tagFormat.removeBraces&&(t=t.replace(/[{}]/g,"")),t=t.trim().replace(/^@/,""),{name:t,displayName:t,styling:this.displaySettings.tagFormat.styling,formatted:!0}}).filter(e=>e.name):[]}formatSteps(e){return Array.isArray(e)?e.map((e,t)=>({...e,index:t,displayName:e.name||`Step ${t+1}`,status:e.result?e.result.status:"unknown",styling:this.getStepStyling(e),formatted:!0})):[]}getFeatureStyling(e,t){const s={marginBottom:"16px",borderRadius:"4px",overflow:"hidden",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",transition:"all 0.2s ease"};return e?{...s,borderLeft:"4px solid #f44336",backgroundColor:"#ffebee",border:"1px solid #ffcdd2"}:t?{...s,borderLeft:"4px solid #ff9800",backgroundColor:"#fff3e0",border:"1px solid #ffcc02"}:{...s,borderLeft:"4px solid #4caf50",backgroundColor:"#f1f8e9",border:"1px solid #c8e6c9"}}getScenarioStyling(e,t){const s={textAlign:this.displaySettings.alignment,padding:this.displaySettings.compactMode?"6px 12px":"8px 16px",marginBottom:"4px",borderRadius:"4px",transition:"all 0.2s ease"};if(t&&!t.isValid){const e={low:"#fff3e0",medium:"#fff8e1",warning:"#fff8e1",high:"#ffecb3",critical:"#ffcdd2"},r={low:"#ff9800",medium:"#ff9800",warning:"#ff9800",high:"#f57c00",critical:"#f44336"};return{...s,backgroundColor:e[t.severity]||e.medium,borderLeft:`2px solid ${r[t.severity]||r.medium}`}}const r=this.calculateScenarioStatus(e),a={passed:"#4caf50",failed:"#f44336",skipped:"#ff9800",unknown:"#9e9e9e"},o={passed:"#f1f8e9",failed:"#ffebee",skipped:"#fff3e0",unknown:"#f5f5f5"};return{...s,backgroundColor:o[r]||o.unknown,borderLeft:`2px solid ${a[r]||a.unknown}`}}getStepStyling(e){const t=e.result?e.result.status:"unknown",s={passed:"#4caf50",failed:"#f44336",skipped:"#ff9800",unknown:"#9e9e9e"};return{padding:"4px 8px",marginBottom:"2px",borderLeft:`2px solid ${s[t]||s.unknown}`,backgroundColor:"transparent",textAlign:this.displaySettings.alignment}}getFeatureIndicators(e,t,s){const r=[];t&&r.push({type:"execution-error",icon:"mdi-alert-circle",color:"#f44336",text:"Framework Error",tooltip:"This is a Cucumber framework execution error"}),s&&r.push({type:"data-issues",icon:"mdi-alert",color:"#ff9800",text:"Data Issues",tooltip:"This feature contains scenarios with data quality issues"});const a=(e.elements||[]).filter(e=>"background"!==e.type).length;return a>0&&r.push({type:"scenario-count",icon:"mdi-format-list-bulleted",color:"#2196f3",text:`${a} scenario${a>1?"s":""}`,tooltip:`This feature contains ${a} test scenario${a>1?"s":""}`}),r}calculateScenarioStatus(e){if(e.before&&Array.isArray(e.before)){const t=e.before.some(e=>e.result&&"failed"===e.result.status);if(t)return"failed"}if(e.after&&Array.isArray(e.after)){const t=e.after.some(e=>e.result&&"failed"===e.result.status);if(t)return"failed"}if(e.steps&&Array.isArray(e.steps)){const t=e.steps.some(e=>e.result&&"failed"===e.result.status),s=e.steps.some(e=>e.result&&"passed"===e.result.status),r=e.steps.every(e=>e.result&&"skipped"===e.result.status);if(t)return"failed";if(r)return"skipped";if(s)return"passed"}return e.status?e.status:"unknown"}validateFeatureScenarios(e){const t=(e.elements||[]).filter(e=>"background"!==e.type);let s=!1,r=0;const a=new Set;return t.forEach(e=>{const t=this.scenarioHandler.validateScenarioData(e);t.isValid||(s=!0,r+=t.issues.length,t.issues.forEach(e=>a.add(e.type)))}),{hasIssues:s,totalIssues:r,issueTypes:Array.from(a),scenarioCount:t.length,issueRate:t.length>0?(r/t.length*100).toFixed(1)+"%":"0%"}}getFeatureKey(e){return e.uri||e.id||`feature_${Date.now()}_${Math.random()}`}updateDisplaySettings(e){this.displaySettings={...this.displaySettings,...e},this.clearCache()}clearCache(){this.formattingCache.clear(),this.scenarioHandler.clearCache(),this.executionErrorHandler.clearCache()}getStatistics(){return{cachedFeatures:this.formattingCache.size,scenarioHandlerStats:this.scenarioHandler.getStatistics(),executionErrorStats:this.executionErrorHandler.getStatistics(),displaySettings:this.displaySettings}}}const Ur=Or;class Hr{constructor(){this.scenarioHandler=new Mr,this.executionErrorHandler=new Vr,this.validationCache=new Map,this.recoveryStrategies=new Map,this.initializeRecoveryStrategies()}initializeRecoveryStrategies(){this.recoveryStrategies.set("empty_scenario_name",{strategy:"generate_placeholder",handler:e=>this.scenarioHandler.generatePlaceholderName(e),priority:"high"}),this.recoveryStrategies.set("missing_feature_name",{strategy:"extract_from_uri",handler:e=>this.extractFeatureNameFromUri(e),priority:"medium"}),this.recoveryStrategies.set("no_steps",{strategy:"create_placeholder_steps",handler:e=>this.createPlaceholderSteps(e),priority:"high"}),this.recoveryStrategies.set("missing_results",{strategy:"infer_status",handler:e=>this.inferStepStatus(e),priority:"medium"}),this.recoveryStrategies.set("execution_error",{strategy:"special_handling",handler:e=>this.executionErrorHandler.renderExecutionErrorFeature(e),priority:"critical"})}validateReport(e,t="unknown"){const s=`${t}_${Date.now()}`;if(this.validationCache.has(s))return this.validationCache.get(s);const r={reportId:t,timestamp:(new Date).toISOString(),isValid:!0,issues:[],warnings:[],recoveredData:[],statistics:{totalFeatures:0,totalScenarios:0,totalSteps:0,issuesFound:0,issuesRecovered:0,executionErrors:0},sanitizedData:null};try{if(!Array.isArray(e))return r.isValid=!1,r.issues.push({type:"invalid_structure",message:"Report data is not an array",severity:"critical",location:"root"}),r;const t=[];e.forEach((e,s)=>{const a=this.validateFeature(e,s);r.statistics.totalFeatures++,r.issues.push(...a.issues),r.warnings.push(...a.warnings);const o=this.applyRecoveryStrategies(e,a);t.push(o),r.statistics.issuesFound+=a.issues.length,r.statistics.issuesRecovered+=a.recoveredIssues,this.executionErrorHandler.isExecutionErrorFeature(e)&&r.statistics.executionErrors++}),r.isValid=0===r.issues.filter(e=>"critical"===e.severity||"high"===e.severity).length,r.sanitizedData=t,r.statistics.totalScenarios=this.countScenarios(t),r.statistics.totalSteps=this.countSteps(t),this.validationCache.set(s,r)}catch(a){r.isValid=!1,r.issues.push({type:"validation_error",message:`Validation failed: ${a.message}`,severity:"critical",location:"validation_process"})}return r}validateFeature(e,t){const s={featureIndex:t,issues:[],warnings:[],recoveredIssues:0};return e&&"object"===typeof e?(e.name&&""!==e.name.trim()||s.issues.push({type:"missing_feature_name",message:"Feature has missing or empty name",severity:"medium",location:`Feature ${t}`,recoverable:!0}),this.executionErrorHandler.isExecutionErrorFeature(e)&&s.warnings.push({type:"execution_error_feature",message:"Feature contains execution errors",severity:"warning",location:`Feature ${t}`,specialHandling:!0}),e.elements&&Array.isArray(e.elements)?e.elements.forEach((e,r)=>{if("background"!==e.type){const a=this.validateScenario(e,t,r);s.issues.push(...a.issues),s.warnings.push(...a.warnings),s.recoveredIssues+=a.recoveredIssues}}):s.warnings.push({type:"no_scenarios",message:"Feature has no scenarios",severity:"warning",location:`Feature ${t}`}),s):(s.issues.push({type:"invalid_feature_structure",message:"Feature is not a valid object",severity:"critical",location:`Feature ${t}`}),s)}validateScenario(e,t,s){const r={issues:[],warnings:[],recoveredIssues:0},a=`Feature ${t}, Scenario ${s}`,o=this.scenarioHandler.validateScenarioData(e);return o.issues.forEach(e=>{r.issues.push({...e,location:a,recoverable:this.recoveryStrategies.has(e.type)})}),r}applyRecoveryStrategies(e,t){let s={...e},r=0;return t.issues.forEach(e=>{if(e.recoverable&&this.recoveryStrategies.has(e.type)){const a=this.recoveryStrategies.get(e.type);try{const t=a.handler(s);switch(e.type){case"missing_feature_name":s.name=t,r++;break}}catch(t){console.warn(`Recovery strategy failed for ${e.type}:`,t)}}}),s.elements&&Array.isArray(s.elements)&&(s.elements=s.elements.map(e=>{if("background"===e.type)return e;const t=this.scenarioHandler.validateScenarioData(e);let s={...e};return t.issues.forEach(e=>{if(this.recoveryStrategies.has(e.type)){const a=this.recoveryStrategies.get(e.type);try{const t=a.handler(s);switch(e.type){case"empty_scenario_name":s._generatedName=t,s._hasPlaceholderName=!0,r++;break;case"no_steps":s._placeholderSteps=t,r++;break;case"missing_results":s.steps&&(s.steps=s.steps.map(e=>(e.result||(e._inferredResult=a.handler(e),r++),e)));break}}catch(t){console.warn(`Scenario recovery strategy failed for ${e.type}:`,t)}}}),s})),s._dataQualityProcessed=!0,s._recoveredIssues=r,s}extractFeatureNameFromUri(e){if(!e.uri)return"Unnamed Feature";const t=e.uri.split("/"),s=t[t.length-1];return s&&"failure.feature"!==s?s.replace(/\.(feature|js|ts)$/,"").replace(/[-_]/g," ").replace(/\b\w/g,e=>e.toUpperCase()):"Unnamed Feature"}createPlaceholderSteps(e){return[{name:"No steps defined",keyword:"Given ",result:{status:"skipped",duration:0},_isPlaceholder:!0}]}inferStepStatus(e){return{status:"unknown",duration:0,_isInferred:!0}}countScenarios(e){return e.reduce((e,t)=>t.elements&&Array.isArray(t.elements)?e+t.elements.filter(e=>"background"!==e.type).length:e,0)}countSteps(e){return e.reduce((e,t)=>t.elements&&Array.isArray(t.elements)?e+t.elements.reduce((e,t)=>t.steps&&Array.isArray(t.steps)?e+t.steps.length:e,0):e,0)}generateIntegrityReport(e){const t=e.issues.filter(e=>"critical"===e.severity),s=e.issues.filter(e=>"high"===e.severity),r=e.issues.filter(e=>"medium"===e.severity),a=t.length>0?"critical":s.length>0?"high":r.length>0?"medium":"good";return{overallStatus:a,summary:{totalIssues:e.issues.length,criticalIssues:t.length,highIssues:s.length,mediumIssues:r.length,warnings:e.warnings.length,recoveredIssues:e.statistics.issuesRecovered},statistics:e.statistics,recommendations:this.generateRecommendations(e),timestamp:e.timestamp}}generateRecommendations(e){const t=[],s=new Set(e.issues.map(e=>e.type));return s.has("empty_scenario_name")&&t.push({priority:"high",category:"test_quality",message:"Add meaningful names to all scenarios",action:"Review feature files and ensure all scenarios have descriptive names",impact:"Improves test readability and debugging"}),s.has("missing_feature_name")&&t.push({priority:"medium",category:"test_quality",message:"Add names to all features",action:"Ensure all feature files have descriptive feature names",impact:"Improves test organization and reporting"}),e.statistics.executionErrors>0&&t.push({priority:"critical",category:"framework",message:"Fix execution errors in test framework",action:"Review Cucumber configuration and resolve IllegalArgumentException errors",impact:"Prevents test execution failures and improves reliability"}),s.has("no_steps")&&t.push({priority:"high",category:"test_completeness",message:"Add steps to scenarios without test logic",action:"Review scenarios and add appropriate test steps",impact:"Ensures all scenarios have meaningful test coverage"}),t}clearCache(){this.validationCache.clear(),this.scenarioHandler.clearCache(),this.executionErrorHandler.clearCache()}getStatistics(){return{cachedValidations:this.validationCache.size,recoveryStrategies:this.recoveryStrategies.size,scenarioHandlerStats:this.scenarioHandler.getStatistics(),executionErrorStats:this.executionErrorHandler.getStatistics()}}addRecoveryStrategy(e,t){this.recoveryStrategies.set(e,t)}removeRecoveryStrategy(e){this.recoveryStrategies.delete(e)}}const jr=Hr;const Xr={name:"ReportViewer",components:{ConfirmationDialog:Qe},props:{report:{type:Object,required:!1},selectedFeatureIndex:{type:Number,default:0}},data(){return{error:"",searchQuery:"",searchResults:{total:0,features:0,scenarios:0,steps:0},searchDebounceTimer:null,searchExpanded:!1,filters:{status:[],tags:[],duration:null,features:[]},filtersExpanded:!1,deleting:!1,deletionService:new Ve,showValidationDetails:!1,scenarioHandler:new Mr,executionErrorHandler:new Vr,displayFormatter:new Ur,dataQualityManager:new jr,confirmationDialog:{show:!1,title:"",message:"",details:"",type:"default",confirmText:"Confirm",confirmColor:"primary",showEnvironmentInfo:!1,environment:"localhost",onConfirm:null,onCancel:null},snackbar:{show:!1,message:"",color:"info",timeout:3e3}}},computed:{statusFilterOptions(){return[{text:"All",value:"all"},{text:"Passed",value:"passed"},{text:"Failed",value:"failed"},{text:"Skipped",value:"skipped"}]},tagFilterOptions(){const e=new Set;return this.report&&this.report.features&&this.report.features.forEach(t=>{t.tags&&t.tags.forEach(t=>{const s=this.cleanTagText(t);s&&e.add(s)}),t.elements&&t.elements.forEach(t=>{t.tags&&t.tags.forEach(t=>{const s=this.cleanTagText(t);s&&e.add(s)})})}),Array.from(e).sort().map(e=>({text:e,value:e}))},durationFilterOptions(){return[{text:"All Durations",value:null},{text:"Fast (< 1s)",value:"fast"},{text:"Medium (1-10s)",value:"medium"},{text:"Slow (> 10s)",value:"slow"}]},featureFilterOptions(){return this.report&&this.report.features?this.report.features.map((e,t)=>({text:e.name||`Feature ${t+1}`,value:t})):[]},filteredFeatures(){return this.report&&this.report.features?this.report.features.filter(e=>this.shouldShowFeature(e)):[]},hasActiveFilters(){return this.filters.status.length>0||this.filters.tags.length>0||null!==this.filters.duration||this.filters.features.length>0},reportTimestamp(){return this.report&&this.report.timestamp?new Date(this.report.timestamp):null},timeAgo(){if(!this.reportTimestamp)return"";const e=new Date,t=e-this.reportTimestamp,s=Math.floor(t/6e4),r=Math.floor(t/36e5),a=Math.floor(t/864e5);return s<1?"Just now":s<60?`${s} minute${1!==s?"s":""} ago`:r<24?`${r} hour${1!==r?"s":""} ago`:a<30?`${a} day${1!==a?"s":""} ago`:this.reportTimestamp.toLocaleDateString()},formattedDate(){return this.reportTimestamp?this.reportTimestamp.toLocaleString():""},passedPercentage(){return 0===this.summary.total?0:(this.summary.passed/this.summary.total*100).toFixed(1)},failedPercentage(){return 0===this.summary.total?0:(this.summary.failed/this.summary.total*100).toFixed(1)},isDarkTheme(){return this.$store.getters["theme/isDark"]},reportFeatures(){return this.report?.features||[]},featuresCount(){return this.reportFeatures.length},summary(){let e=0,t=0,s=0,r=0,a=0,o=0;if(!this.report||!Array.isArray(this.report.features))return{passed:e,failed:t,skipped:s,errors:r,total:a,duration:0,hasValidationIssues:!1,hasIntegrityIssues:!1};const i=this.report._validation&&!this.report._validation.isValid,n=this.report._integrity&&"critical"===this.report._integrity.overallStatus;return this.report.features.forEach(i=>{const n=Array.isArray(i.elements)?i.elements.filter(e=>"background"!==e.type):[];n.forEach(i=>{let n;switch(n=i._calculatedStatus?i._calculatedStatus.status:this.scenarioStatus(i),n){case"passed":e++;break;case"failed":t++;break;case"skipped":s++;break;default:r++;break}a++,Array.isArray(i.steps)&&(o+=i.steps.reduce((e,t)=>e+("number"===typeof t.result?.duration?t.result.duration:0),0)),Array.isArray(i.before)&&(o+=i.before.reduce((e,t)=>e+("number"===typeof t.result?.duration?t.result.duration:0),0)),Array.isArray(i.after)&&(o+=i.after.reduce((e,t)=>e+("number"===typeof t.result?.duration?t.result.duration:0),0))})}),{passed:e,failed:t,skipped:s,errors:r,total:a,duration:this.formatDuration(o,!0),hasValidationIssues:i,hasIntegrityIssues:n,validationErrors:this.report._validation?.errors?.length||0,validationWarnings:this.report._validation?.warnings?.length||0}}},methods:{scenarioStatus(e){if(e._calculatedStatus)return e._calculatedStatus.status;if(!e||"object"!==typeof e)return"unknown";if(!e.name&&!e.id&&this.hasAnyFailures(e))return"failed";if(e.before&&Array.isArray(e.before)){const t=e.before.some(e=>e.result&&"failed"===e.result.status);if(t)return"failed"}if(e.after&&Array.isArray(e.after)){const t=e.after.some(e=>e.result&&"failed"===e.result.status);if(t)return"failed"}if(e.steps&&Array.isArray(e.steps)){const t=e.steps.some(e=>e.result&&"failed"===e.result.status||"failed"===e.status),s=e.steps.some(e=>e.result&&"passed"===e.result.status||"passed"===e.status),r=e.steps.every(e=>e.result&&"skipped"===e.result.status||"skipped"===e.status);if(t)return"failed";if(r)return"skipped";if(s)return"passed"}return e.steps&&0!==e.steps.length||!this.hasErrorInformation(e)?e.status?e.status:"unknown":"failed"},scenarioStatusStyle(e){const t=this.scenarioStatus(e);return"passed"===t?{background:"#e8f5e9",color:"#388e3c",fontWeight:"bold"}:"failed"===t?{background:"#ffebee",color:"#e53935",fontWeight:"bold"}:{background:"#f2f2f2",color:"#222"}},getStepErrorMessage(e){return e.result&&e.result.error_message?e.result.error_message:e.errorMessage?e.errorMessage:null},getDisplayErrorMessage(e){const t=this.getStepErrorMessage(e);if(!t)return"";if(e._showFullError)return t;{const e=this.extractMainErrorMessage(t);return e}},extractMainErrorMessage(e){if(!e)return"";const t=e.split("\n");for(let r=0;r<Math.min(3,t.length);r++){const e=t[r].trim();if(e.includes("Exception:")||e.includes("Error:")||e.includes("AssertionError:")||e.includes("TimeoutException:")||e.includes("ElementNotFound")||e.includes("NoSuchElement")||e.includes("WebDriverException")||e.match(/^\w+(\.\w+)*Exception:/))return e}const s=t.find(e=>e.trim().length>0);return s?s.trim():t[0]||""},shouldTruncateError(e){const t=this.getStepErrorMessage(e);return t&&t.split("\n").length>3},toggleErrorExpansion(e){e._showFullError=!e._showFullError},copyErrorToClipboard(e){const t=this.getStepErrorMessage(e);t&&navigator.clipboard.writeText(t).then(()=>{console.log("Error message copied to clipboard")}).catch(e=>{console.error("Failed to copy error message:",e)})},getScenarioScreenshots(e){const t=[];return e.after&&Array.isArray(e.after)&&e.after.forEach(e=>{e.embeddings&&Array.isArray(e.embeddings)&&e.embeddings.forEach(e=>{("image/png"===e.mime_type||e.data&&e.data.startsWith("iVBORw0KGgo"))&&t.push({dataUrl:`data:image/png;base64,${e.data}`,mimeType:e.mime_type||"image/png"})})}),t},openScreenshotModal(e,t){const s=this.getScenarioScreenshots(e);s.length>t&&this.showScreenshotDialog(s,t)},showScreenshotDialog(e,t){const s=e[t],r=window.open("","_blank");r.document.write(`\n        <html>\n          <head><title>Screenshot ${t+1}</title></head>\n          <body style="margin:0; background:#000; display:flex; justify-content:center; align-items:center; min-height:100vh;">\n            <img src="${s.dataUrl}" style="max-width:100%; max-height:100%; object-fit:contain;" />\n          </body>\n        </html>\n      `)},onScreenshotLoad(){console.log("Screenshot loaded successfully")},onScreenshotError(){console.error("Failed to load screenshot")},stepStatus(e){return e.result&&e.result.status?e.result.status:e.status?e.status:"unknown"},stepKeywordClass(e){return"step-keyword"},formatDuration(e,t=!1){if("number"!==typeof e||isNaN(e))return"-";if(e>1e6&&(e/=1e9),e>=60){const t=Math.floor(e/60),s=Math.round(e%60);return`${t} minute${1!==t?"s":""} ${s} second${1!==s?"s":""}`}return e<1&&!t?(1e3*e).toFixed(0)+" ms":e.toFixed(2)+" s"},shouldTruncate(e){return e&&e.split("\n").length>5},truncateError(e){if(!e)return"";const t=e.split("\n");return t.slice(0,5).join("\n")+(t.length>5?"\n...":"")},summaryBarWidth(e){const t=this.summary.total||1,s=this.summary[e]||0;return(s/t*100).toFixed(1)+"%"},featureStatus(e){if(!e||!e.elements)return"";const t=e.elements.filter(e=>"background"!==e.type);return 0===t.length?"":t.some(e=>"failed"===this.scenarioStatus(e))?"failed":t.every(e=>"passed"===this.scenarioStatus(e))?"passed":t.every(e=>"skipped"===this.scenarioStatus(e))?"skipped":""},onSearchInput(){this.searchDebounceTimer&&clearTimeout(this.searchDebounceTimer),this.searchDebounceTimer=setTimeout(()=>{this.performSearch()},300)},performSearch(){if(!this.searchQuery||""===this.searchQuery.trim())return void(this.searchResults={total:0,features:0,scenarios:0,steps:0});const e=this.searchQuery.toLowerCase().trim();let t=0,s=0,r=0,a=0;this.report&&this.report.features?(this.report.features.forEach(o=>{const i=`${o.name||""} ${o.description||""} ${o.uri||""}`.toLowerCase();i.includes(e)&&(s++,t++),o.tags&&o.tags.forEach(r=>{const a=this.cleanTagText(r).toLowerCase();a.includes(e)&&(s++,t++)}),o.elements&&o.elements.forEach(s=>{const o=`${s.name||""}`.toLowerCase();o.includes(e)&&(r++,t++),s.tags&&s.tags.forEach(s=>{const a=this.cleanTagText(s).toLowerCase();a.includes(e)&&(r++,t++)}),s.steps&&s.steps.forEach(s=>{const r=`${s.keyword||""} ${s.name||""}`.toLowerCase();r.includes(e)&&(a++,t++),s.errorMessage&&s.errorMessage.toLowerCase().includes(e)&&(a++,t++)})})}),this.searchResults={total:t,features:s,scenarios:r,steps:a}):this.searchResults={total:0,features:0,scenarios:0,steps:0}},cleanTagText(e){let t="";return t="string"===typeof e?e:e&&"object"===typeof e?e.name||e.value||e.tag||e.text||"":e?String(e):"",t.replace(/[{}]/g,"")},applyFilters(){},clearAllFilters(){this.filters={status:[],tags:[],duration:null,features:[]}},getActiveFiltersText(){const e=[];if(this.filters.status.length>0&&e.push(`Status: ${this.filters.status.join(", ")}`),this.filters.tags.length>0&&e.push(`Tags: ${this.filters.tags.join(", ")}`),this.filters.duration){const t=this.durationFilterOptions.find(e=>e.value===this.filters.duration);e.push(`Duration: ${t?.text||this.filters.duration}`)}return this.filters.features.length>0&&e.push(`Features: ${this.filters.features.length} selected`),e.join(" | ")},toggleSearchExpanded(){this.searchExpanded=!this.searchExpanded},clearSearch(){this.searchQuery="",this.searchResults={total:0,features:0,scenarios:0,steps:0}},toggleFiltersExpanded(){this.filtersExpanded=!this.filtersExpanded},getActiveFiltersCount(){let e=0;return this.filters.status.length>0&&e++,this.filters.tags.length>0&&e++,this.filters.duration&&e++,this.filters.features.length>0&&e++,e},getCompactActiveFilters(){const e=[];if(this.filters.status.length>0&&e.push(`Status: ${this.filters.status.length}`),this.filters.tags.length>0&&e.push(`Tags: ${this.filters.tags.length}`),this.filters.duration){const t=this.durationFilterOptions.find(e=>e.value===this.filters.duration);e.push(`Duration: ${t?.text||this.filters.duration}`)}return this.filters.features.length>0&&e.push(`Features: ${this.filters.features.length}`),e.slice(0,3)},getFeatureDuration(e){if(!e||!e.elements)return 0;let t=0;return e.elements.forEach(e=>{e.steps&&e.steps.forEach(e=>{e.result&&"number"===typeof e.result.duration?t+=e.result.duration:"number"===typeof e.duration&&(t+=e.duration)})}),t>1e6&&(t/=1e9),t},async deleteCurrentReport(){try{const e=await this.showDeleteConfirmation();if(!e)return;this.deleting=!0;const t=this.$route.params.id,s=await this.deletionService.deleteReport(t,{confirm:!1,showFeedback:!1});if(s.success&&!s.cancelled){let e;e=s.localOnly?"soft"===s.deletionType?"Report hidden locally (server offline)":"Report removed from view (server offline)":"soft"===s.deletionType?"Report hidden from collection":"Report deleted successfully",this.showSuccessMessage(e),this.$emit("report-deleted",{reportId:t,result:s,deletionType:s.deletionType}),setTimeout(()=>{this.$router.push("/")},1500)}}catch(e){console.error("Failed to delete report:",e),this.showErrorMessage(`Failed to delete report: ${e.message}`)}finally{this.deleting=!1}},async showDeleteConfirmation(){return new Promise(e=>{const t="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname;this.confirmationDialog={show:!0,title:t?"Delete Report":"Hide Report",message:t?"This will permanently delete the report file from the server.":"This will hide the report from the collection. The file will remain until next deployment.",details:`Report: ${this.report?.name||this.$route.params.id}`,type:"delete",confirmText:t?"Delete":"Hide",confirmColor:"error",showEnvironmentInfo:!0,environment:t?"localhost":"production",onConfirm:()=>{this.confirmationDialog.show=!1,e(!0)},onCancel:()=>{this.confirmationDialog.show=!1,e(!1)}}})},goBackToCollection(){this.$router.push("/")},refreshReport(){this.$router.go(0)},showSuccessMessage(e){this.snackbar={show:!0,message:e,color:"success",timeout:3e3}},showErrorMessage(e){this.snackbar={show:!0,message:e,color:"error",timeout:5e3}},shouldShowFeature(e){if(this.filters.status.length>0){const t=this.featureStatus(e);if(!this.filters.status.includes(t))return!1}if(this.filters.tags.length>0){const t=[];e.tags&&e.tags.forEach(e=>{const s=this.cleanTagText(e);s&&t.push(s)}),e.elements&&e.elements.forEach(e=>{e.tags&&e.tags.forEach(e=>{const s=this.cleanTagText(e);s&&t.push(s)})});const s=this.filters.tags.some(e=>t.includes(e));if(!s)return!1}if(this.filters.duration){const t=this.getFeatureDuration(e);if("fast"===this.filters.duration&&t>=1)return!1;if("medium"===this.filters.duration&&(t<1||t>10))return!1;if("slow"===this.filters.duration&&t<=10)return!1}if(this.filters.features.length>0){const t=e.id||e.name;if(!this.filters.features.includes(t))return!1}return!0},getFeatureDuration(e){if(!e.elements)return 0;let t=0;return e.elements.forEach(e=>{e.steps&&e.steps.forEach(e=>{e.result&&"number"===typeof e.result.duration&&(t+=e.result.duration)})}),t>1e6&&(t/=1e9),t},getFormattedTags(e){return this.displayFormatter.formatTags(e)},getFormattedFeature(e){return this.displayFormatter.formatFeatureDisplay(e)},isExecutionErrorFeature(e){return this.executionErrorHandler.isExecutionErrorFeature(e)},getExecutionErrorGuidance(e){return this.executionErrorHandler.getExecutionErrorGuidance(e)},getScenarioDisplayName(e){return this.scenarioHandler.normalizeScenarioName(e)},validateScenarioData(e){return this.scenarioHandler.validateScenarioData(e)},getFeatureDisplayClass(e){const t=this.getFormattedFeature(e),s=[];return t.metadata.isExecutionError&&s.push("execution-error-feature"),t.metadata.hasDataIssues&&s.push("data-issues-feature"),s.join(" ")},getScenarioDisplayClass(e){const t=this.validateScenarioData(e),s=[];return t.isValid||(s.push("data-issues-scenario"),s.push(`severity-${t.severity}`)),s.join(" ")},getFeatureIndicators(e){const t=this.getFormattedFeature(e);return t.indicators},getEnhancedScenarioStatus(e){return e._calculatedStatus?e._calculatedStatus.status:this.scenarioStatus(e)},hasScenarioDataIssues(e){const t=this.validateScenarioData(e);return!t.isValid},getScenarioDataQualityIndicator(e){const t=this.validateScenarioData(e);return t.isValid?null:{severity:t.severity,issues:t.issues,tooltip:`Data quality issues: ${t.issues.join(", ")}`}},processReportWithQualityManagement(e){if(!e)return e;const t=this.dataQualityManager.validateReport(e);return e._qualityValidation=t,Array.isArray(e.features)&&(e.features=e.features.map(e=>{const t=this.getFormattedFeature(e);return{...e,_formatted:t,_displayName:t.name,_indicators:t.indicators}})),e},getFormattedFeatureName(e){const t=this.getFormattedFeature(e);return t.name},hasDataQualityIssues(e){const t=this.getFormattedFeature(e);return t.metadata.hasDataIssues},getFormattedScenarioName(e){return this.getScenarioDisplayName(e)},getScenarioDataIssueTooltip(e){const t=this.getScenarioDataQualityIndicator(e);return t?t.tooltip:""}}},Br=(0,c.A)(Xr,[["render",Pr],["__scopeId","data-v-53603d6c"]]),Jr=Br;var Qr=s(953);const Gr={components:{ReportViewer:Jr,ThemeToggle:tt},setup(){const e=(0,n.Pj)(),t=(0,p.lq)(),s=t&&t.params&&t.params.id?t.params.id:null,r=(0,Qr.Kh)({staticReport:null}),o=(0,a.EW)(()=>{if(s&&localStorage.getItem("uploaded-report-"+s))try{const e=JSON.parse(localStorage.getItem("uploaded-report-"+s));if(Array.isArray(e))return{features:e};if(e&&Array.isArray(e.features))return e}catch{}if(e.state.reportData&&e.state.reportData._uploadedId===s){if(Array.isArray(e.state.reportData))return{features:e.state.reportData};if(e.state.reportData&&Array.isArray(e.state.reportData.features))return e.state.reportData}if(r.staticReport){if(Array.isArray(r.staticReport))return{features:r.staticReport};if(r.staticReport&&Array.isArray(r.staticReport.features))return r.staticReport}return null}),i=(0,Qr.KR)(0),l=e=>{i.value=e};(0,a.sV)(()=>{s&&(e.state.reportData&&e.state.reportData._uploadedId===s||localStorage.getItem("uploaded-report-"+s)||fetch("/TestResults/TestResultsJsons/"+s+".json",{cache:"reload"}).then(e=>e.ok?e.json():null).then(e=>{Array.isArray(e)?r.staticReport={features:e}:e&&Array.isArray(e.features)?r.staticReport=e:r.staticReport=null}).catch(()=>{r.staticReport=null}))});let c=!1;if("undefined"!==typeof window){const e=window.location.hash,t=e.includes("?")?e.split("?")[1]:"",s=new URLSearchParams(t),r=parseInt(s.get("t"),10);if(r&&!isNaN(r)){const e=Date.now();c=e-r>864e5}}const d=(0,a.EW)(()=>e.state.reportData&&e.state.reportData._uploadedId===s);return{reportData:o,selectedFeatureIndex:i,onSelectFeature:l,expired:c,sessionOnly:d}}},Kr=(0,c.A)(Gr,[["render",kt],["__scopeId","data-v-9d99055a"]]),qr=Kr,Yr=[{path:"/",name:"Home",component:ct},{path:"/report/:id",name:"Report",component:qr,props:!0},{path:"/report",redirect:"/"}],Zr=(0,p.aE)({history:(0,p.Bt)(),routes:Yr}),ea=Zr,ta={namespaced:!0,state:{isDark:!1,systemPreference:!1,userPreference:"system"},mutations:{SET_THEME(e,t){e.isDark=t},SET_SYSTEM_PREFERENCE(e,t){e.systemPreference=t},SET_USER_PREFERENCE(e,t){e.userPreference=t}},actions:{initializeTheme({state:e,commit:t,dispatch:s}){if(window.matchMedia){const r=window.matchMedia("(prefers-color-scheme: dark)");r.addEventListener("change",r=>{t("SET_SYSTEM_PREFERENCE",r.matches),"system"===e.userPreference&&s("applyTheme")})}},applyTheme({state:e,commit:t}){let s=!1;s="dark"===e.userPreference||"light"!==e.userPreference&&e.systemPreference,t("SET_THEME",s),s?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.removeAttribute("data-theme")},toggleTheme({state:e,commit:t,dispatch:s}){const r=e.isDark?"light":"dark";t("SET_USER_PREFERENCE",r),localStorage.setItem("theme-preference",r),s("applyTheme")},setThemePreference({commit:e,dispatch:t},s){e("SET_USER_PREFERENCE",s),localStorage.setItem("theme-preference",s),t("applyTheme")}},getters:{isDark:e=>e.isDark,userPreference:e=>e.userPreference,systemPreference:e=>e.systemPreference,currentTheme:e=>e.isDark?"dark":"light"}},sa=(0,n.y$)({state:{reportData:null},mutations:{setReportData(e,t){e.reportData=t}},actions:{uploadReport({commit:e},t){e("setReportData",t)}},getters:{getReportData:e=>e.reportData},modules:{theme:ta}});s(5524);var ra=s(5850),aa=s(421),oa=s(1357),ia=s(87);const na={dark:!1,colors:{primary:"#3B82F6",secondary:"#64748B",accent:"#10B981",error:"#EF4444",warning:"#F59E0B",info:"#06B6D4",success:"#10B981",background:"#FFFFFF",surface:"#F8FAFC","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#F1F5F9","on-background":"#1E293B","on-surface":"#334155","on-surface-variant":"#64748B","on-primary":"#FFFFFF","on-secondary":"#FFFFFF","on-success":"#FFFFFF","on-warning":"#000000","on-error":"#FFFFFF","on-info":"#FFFFFF"}},la={dark:!0,colors:{primary:"#60A5FA",secondary:"#94A3B8",accent:"#34D399",error:"#F87171",warning:"#FBBF24",info:"#22D3EE",success:"#34D399",background:"#1A202C",surface:"#2D3748","surface-bright":"#4A5568","surface-light":"#374151","surface-variant":"#4A5568","on-background":"#E2E8F0","on-surface":"#CBD5E0","on-surface-variant":"#A0AEC0","on-primary":"#1A202C","on-secondary":"#1A202C","on-success":"#1A202C","on-warning":"#1A202C","on-error":"#1A202C","on-info":"#1A202C"}};function ca(){const e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("theme-preference")||"system";let s=!1;return s="dark"===t||"light"!==t&&e,s?"dark":"light"}const da=(0,ra.$N)({components:aa,directives:oa,icons:{defaultSet:"mdi",aliases:ia.z,sets:{mdi:ia.r}},theme:{defaultTheme:ca(),themes:{light:na,dark:la},variations:{colors:["primary","secondary","accent"],lighten:4,darken:4}}}),ua=da;function pa(){const e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("theme-preference")||"system";let s=!1;return s="dark"===t||"light"!==t&&e,s?(document.documentElement.setAttribute("data-theme","dark"),document.body.classList.add("dark-theme")):(document.documentElement.removeAttribute("data-theme"),document.body.classList.remove("dark-theme")),ua.theme.global.name.value=s?"dark":"light",{shouldBeDark:s,savedPreference:t,systemPrefersDark:e}}const ha=pa(),ma=(0,r.Ef)(u);ma.use(ea),ma.use(sa),ma.use(ua),sa.commit("theme/SET_THEME",ha.shouldBeDark),sa.commit("theme/SET_USER_PREFERENCE",ha.savedPreference),sa.commit("theme/SET_SYSTEM_PREFERENCE",ha.systemPrefersDark),sa.dispatch("theme/initializeTheme"),sa.watch(e=>e.theme.isDark,e=>{ua.theme.global.name.value=e?"dark":"light",e?(document.documentElement.setAttribute("data-theme","dark"),document.body.classList.add("dark-theme")):(document.documentElement.removeAttribute("data-theme"),document.body.classList.remove("dark-theme"))},{immediate:!0}),ma.mount("#app")}},t={};function s(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,s),o.exports}s.m=e,(()=>{var e=[];s.O=(t,r,a,o)=>{if(!r){var i=1/0;for(d=0;d<e.length;d++){for(var[r,a,o]=e[d],n=!0,l=0;l<r.length;l++)(!1&o||i>=o)&&Object.keys(s.O).every(e=>s.O[e](r[l]))?r.splice(l--,1):(n=!1,o<i&&(i=o));if(n){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[r,a,o]}})(),(()=>{s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}})(),(()=>{s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{var e={524:0};s.O.j=t=>0===e[t];var t=(t,r)=>{var a,o,[i,n,l]=r,c=0;if(i.some(t=>0!==e[t])){for(a in n)s.o(n,a)&&(s.m[a]=n[a]);if(l)var d=l(s)}for(t&&t(r);c<i.length;c++)o=i[c],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(d)},r=self["webpackChunkcucumber_report_viewer"]=self["webpackChunkcucumber_report_viewer"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=s.O(void 0,[96],()=>s(7741));r=s.O(r)})();
//# sourceMappingURL=app.2709854b.js.map